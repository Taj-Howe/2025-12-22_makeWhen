"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/query/route";
exports.ids = ["app/api/query/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = import("pg");;

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@14.2.35_@babel+core@7.28.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=%2FUsers%2Ftajhowe%2FDropbox%2FPersonal%2FCoding%20Projects%2F2025-12-22_makeWhen%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftajhowe%2FDropbox%2FPersonal%2FCoding%20Projects%2F2025-12-22_makeWhen&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.2.35_@babel+core@7.28.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=%2FUsers%2Ftajhowe%2FDropbox%2FPersonal%2FCoding%20Projects%2F2025-12-22_makeWhen%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftajhowe%2FDropbox%2FPersonal%2FCoding%20Projects%2F2025-12-22_makeWhen&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@14.2.35_@babel+core@7.28.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/.pnpm/next@14.2.35_@babel+core@7.28.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@14.2.35_@babel+core@7.28.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_tajhowe_Dropbox_Personal_Coding_Projects_2025_12_22_makeWhen_app_api_query_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/query/route.ts */ \"(rsc)/./app/api/query/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_Users_tajhowe_Dropbox_Personal_Coding_Projects_2025_12_22_makeWhen_app_api_query_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_Users_tajhowe_Dropbox_Personal_Coding_Projects_2025_12_22_makeWhen_app_api_query_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/query/route\",\n        pathname: \"/api/query\",\n        filename: \"route\",\n        bundlePath: \"app/api/query/route\"\n    },\n    resolvedPagePath: \"/Users/tajhowe/Dropbox/Personal/Coding Projects/2025-12-22_makeWhen/app/api/query/route.ts\",\n    nextConfigOutput,\n    userland: _Users_tajhowe_Dropbox_Personal_Coding_Projects_2025_12_22_makeWhen_app_api_query_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/query/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNC4yLjM1X0BiYWJlbCtjb3JlQDcuMjguNV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtYXBwLWxvYWRlci5qcz9uYW1lPWFwcCUyRmFwaSUyRnF1ZXJ5JTJGcm91dGUmcGFnZT0lMkZhcGklMkZxdWVyeSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnF1ZXJ5JTJGcm91dGUudHMmYXBwRGlyPSUyRlVzZXJzJTJGdGFqaG93ZSUyRkRyb3Bib3glMkZQZXJzb25hbCUyRkNvZGluZyUyMFByb2plY3RzJTJGMjAyNS0xMi0yMl9tYWtlV2hlbiUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZ0YWpob3dlJTJGRHJvcGJveCUyRlBlcnNvbmFsJTJGQ29kaW5nJTIwUHJvamVjdHMlMkYyMDI1LTEyLTIyX21ha2VXaGVuJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUMwQztBQUN2SDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2V3aGVuLz8zMzMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy90YWpob3dlL0Ryb3Bib3gvUGVyc29uYWwvQ29kaW5nIFByb2plY3RzLzIwMjUtMTItMjJfbWFrZVdoZW4vYXBwL2FwaS9xdWVyeS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcXVlcnkvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9xdWVyeVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcXVlcnkvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvdGFqaG93ZS9Ecm9wYm94L1BlcnNvbmFsL0NvZGluZyBQcm9qZWN0cy8yMDI1LTEyLTIyX21ha2VXaGVuL2FwcC9hcGkvcXVlcnkvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3F1ZXJ5L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@14.2.35_@babel+core@7.28.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=%2FUsers%2Ftajhowe%2FDropbox%2FPersonal%2FCoding%20Projects%2F2025-12-22_makeWhen%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftajhowe%2FDropbox%2FPersonal%2FCoding%20Projects%2F2025-12-22_makeWhen&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/query/route.ts":
/*!********************************!*\
  !*** ./app/api/query/route.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@14.2.35_@babel+core@7.28.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_auth_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/auth/auth */ \"(rsc)/./lib/auth/auth.ts\");\n/* harmony import */ var _lib_views_calendarView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/views/calendarView */ \"(rsc)/./lib/views/calendarView.ts\");\n/* harmony import */ var _lib_views_listView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/views/listView */ \"(rsc)/./lib/views/listView.ts\");\n/* harmony import */ var _lib_db_kysely__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/db/kysely */ \"(rsc)/./lib/db/kysely.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_auth_auth__WEBPACK_IMPORTED_MODULE_1__, _lib_views_calendarView__WEBPACK_IMPORTED_MODULE_2__, _lib_views_listView__WEBPACK_IMPORTED_MODULE_3__, _lib_db_kysely__WEBPACK_IMPORTED_MODULE_4__]);\n([_lib_auth_auth__WEBPACK_IMPORTED_MODULE_1__, _lib_views_calendarView__WEBPACK_IMPORTED_MODULE_2__, _lib_views_listView__WEBPACK_IMPORTED_MODULE_3__, _lib_db_kysely__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nconst parseScope = (args)=>{\n    if (args?.scope?.kind === \"project\" && typeof args.scope.projectId === \"string\") {\n        return {\n            kind: \"project\",\n            projectId: args.scope.projectId\n        };\n    }\n    if (args?.scope?.kind === \"user\" && typeof args.scope.userId === \"string\") {\n        return {\n            kind: \"user\",\n            userId: args.scope.userId\n        };\n    }\n    if (args?.scopeType === \"project\" && typeof args.scopeId === \"string\") {\n        return {\n            kind: \"project\",\n            projectId: args.scopeId\n        };\n    }\n    if (args?.scopeType === \"user\" && typeof args.scopeId === \"string\") {\n        return {\n            kind: \"user\",\n            userId: args.scopeId\n        };\n    }\n    if (typeof args?.scopeProjectId === \"string\") {\n        return {\n            kind: \"project\",\n            projectId: args.scopeProjectId\n        };\n    }\n    if (typeof args?.scopeUserId === \"string\") {\n        return {\n            kind: \"user\",\n            userId: args.scopeUserId\n        };\n    }\n    if (typeof args?.assigneeId === \"string\") {\n        return {\n            kind: \"user\",\n            userId: args.assigneeId\n        };\n    }\n    if (typeof args?.projectId === \"string\") {\n        return {\n            kind: \"project\",\n            projectId: args.projectId\n        };\n    }\n    return null;\n};\nconst parseWindow = (args)=>{\n    const start = typeof args?.windowStart === \"number\" ? args.windowStart : typeof args?.time_min === \"number\" ? args.time_min : typeof args?.start_at === \"number\" ? args.start_at : null;\n    const end = typeof args?.windowEnd === \"number\" ? args.windowEnd : typeof args?.time_max === \"number\" ? args.time_max : typeof args?.end_at === \"number\" ? args.end_at : null;\n    if (!Number.isFinite(start) || !Number.isFinite(end)) {\n        return null;\n    }\n    return {\n        start: Number(start),\n        end: Number(end)\n    };\n};\nconst runtime = \"nodejs\";\nconst POST = async (request)=>{\n    let currentUserId = null;\n    try {\n        const user = await (0,_lib_auth_auth__WEBPACK_IMPORTED_MODULE_1__.requireUser)();\n        currentUserId = user.userId;\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: \"unauthorized\"\n        }, {\n            status: 401\n        });\n    }\n    const body = await request.json().catch(()=>null);\n    const name = body?.name;\n    const args = body?.args;\n    if (!name || typeof name !== \"string\") {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: \"query name is required\"\n        }, {\n            status: 400\n        });\n    }\n    try {\n        if (name === \"calendar_view\" || name === \"calendar_range\" || name === \"calendar_range_user\") {\n            if (name === \"calendar_range_user\" && typeof args?.user_id !== \"string\") {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    ok: false,\n                    error: \"user_id is required\"\n                }, {\n                    status: 400\n                });\n            }\n            const scope = name === \"calendar_range_user\" ? {\n                kind: \"user\",\n                userId: args.user_id\n            } : parseScope(args) ?? {\n                kind: \"all\"\n            };\n            const window = parseWindow(args);\n            if (!window) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    ok: false,\n                    error: \"windowStart/windowEnd are required\"\n                }, {\n                    status: 400\n                });\n            }\n            const result = await (0,_lib_views_calendarView__WEBPACK_IMPORTED_MODULE_2__.getCalendarView)({\n                scope,\n                windowStart: window.start,\n                windowEnd: window.end,\n                includeArchived: Boolean(args?.includeArchived)\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(result);\n        }\n        if (name === \"list_view\") {\n            const scope = parseScope(args) ?? {\n                kind: \"all\"\n            };\n            const result = await (0,_lib_views_listView__WEBPACK_IMPORTED_MODULE_3__.getListView)({\n                scope,\n                includeArchived: Boolean(args?.includeArchived),\n                includeCompleted: typeof args?.includeCompleted === \"boolean\" ? args.includeCompleted : true,\n                archiveFilter: args?.archiveFilter\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(result);\n        }\n        if (name === \"list_view_complete\") {\n            const scope = parseScope(args) ?? {\n                kind: \"all\"\n            };\n            const result = await (0,_lib_views_listView__WEBPACK_IMPORTED_MODULE_3__.getListView)({\n                scope,\n                includeArchived: Boolean(args?.includeArchived),\n                includeCompleted: typeof args?.includeCompleted === \"boolean\" ? args.includeCompleted : true,\n                archiveFilter: args?.archiveFilter\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(result);\n        }\n        if (name === \"listItems\") {\n            const scope = parseScope(args) ?? {\n                kind: \"all\"\n            };\n            const result = await (0,_lib_views_listView__WEBPACK_IMPORTED_MODULE_3__.getListView)({\n                scope,\n                includeArchived: Boolean(args?.includeArchived),\n                includeCompleted: typeof args?.includeCompleted === \"boolean\" ? args.includeCompleted : true,\n                archiveFilter: args?.archiveFilter\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                items: result\n            });\n        }\n        if (name === \"users_list\") {\n            const users = await _lib_db_kysely__WEBPACK_IMPORTED_MODULE_4__.db.selectFrom(\"users\").select([\n                \"id\",\n                \"name\",\n                \"image\"\n            ]).orderBy(\"name\", \"asc\").execute();\n            const payload = {\n                users: users.map((row)=>({\n                        user_id: row.id,\n                        display_name: row.name ?? \"Unknown\",\n                        avatar_url: row.image ?? null\n                    })),\n                current_user_id: currentUserId\n            };\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(payload);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: \"query not implemented\",\n            name,\n            args\n        }, {\n            status: 501\n        });\n    } catch (error) {\n        const message = error instanceof Error ? error.message : \"query failed\";\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: message\n        }, {\n            status: 500\n        });\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNDLE1BQVM7d0JBQ3pCZixTQUFTZSxJQUFJQyxFQUFFO3dCQUNmQyxjQUFjRixJQUFJaEIsSUFBSSxJQUFJO3dCQUMxQm1CLFlBQVlILElBQUlJLEtBQUssSUFBSTtvQkFDM0I7Z0JBQ0FDLGlCQUFpQjdCO1lBQ25CO1lBQ0EsT0FBTzlCLHFEQUFZQSxDQUFDaUMsSUFBSSxDQUFDbUI7UUFDM0I7UUFFQSxPQUFPcEQscURBQVlBLENBQUNpQyxJQUFJLENBQ3RCO1lBQUVDLElBQUk7WUFBT0YsT0FBTztZQUF5Qk07WUFBTWhDO1FBQUssR0FDeEQ7WUFBRTZCLFFBQVE7UUFBSTtJQUVsQixFQUFFLE9BQU9ILE9BQU87UUFDZCxNQUFNNEIsVUFBVTVCLGlCQUFpQjZCLFFBQVE3QixNQUFNNEIsT0FBTyxHQUFHO1FBQ3pELE9BQU81RCxxREFBWUEsQ0FBQ2lDLElBQUksQ0FBQztZQUFFQyxJQUFJO1lBQU9GLE9BQU80QjtRQUFRLEdBQUc7WUFBRXpCLFFBQVE7UUFBSTtJQUN4RTtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWtld2hlbi8uL2FwcC9hcGkvcXVlcnkvcm91dGUudHM/NDRiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IHJlcXVpcmVVc2VyIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9hdXRoL2F1dGhcIjtcbmltcG9ydCB7IGdldENhbGVuZGFyVmlldyB9IGZyb20gXCIuLi8uLi8uLi9saWIvdmlld3MvY2FsZW5kYXJWaWV3XCI7XG5pbXBvcnQgeyBnZXRMaXN0VmlldyB9IGZyb20gXCIuLi8uLi8uLi9saWIvdmlld3MvbGlzdFZpZXdcIjtcbmltcG9ydCB7IGRiIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9kYi9reXNlbHlcIjtcblxudHlwZSBTY29wZUlucHV0ID1cbiAgfCB7IGtpbmQ6IFwicHJvamVjdFwiOyBwcm9qZWN0SWQ6IHN0cmluZyB9XG4gIHwgeyBraW5kOiBcInVzZXJcIjsgdXNlcklkOiBzdHJpbmcgfVxuICB8IHsga2luZDogXCJhbGxcIiB9O1xuXG5jb25zdCBwYXJzZVNjb3BlID0gKGFyZ3M6IGFueSk6IFNjb3BlSW5wdXQgfCBudWxsID0+IHtcbiAgaWYgKGFyZ3M/LnNjb3BlPy5raW5kID09PSBcInByb2plY3RcIiAmJiB0eXBlb2YgYXJncy5zY29wZS5wcm9qZWN0SWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4geyBraW5kOiBcInByb2plY3RcIiwgcHJvamVjdElkOiBhcmdzLnNjb3BlLnByb2plY3RJZCB9O1xuICB9XG4gIGlmIChhcmdzPy5zY29wZT8ua2luZCA9PT0gXCJ1c2VyXCIgJiYgdHlwZW9mIGFyZ3Muc2NvcGUudXNlcklkID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHsga2luZDogXCJ1c2VyXCIsIHVzZXJJZDogYXJncy5zY29wZS51c2VySWQgfTtcbiAgfVxuICBpZiAoYXJncz8uc2NvcGVUeXBlID09PSBcInByb2plY3RcIiAmJiB0eXBlb2YgYXJncy5zY29wZUlkID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHsga2luZDogXCJwcm9qZWN0XCIsIHByb2plY3RJZDogYXJncy5zY29wZUlkIH07XG4gIH1cbiAgaWYgKGFyZ3M/LnNjb3BlVHlwZSA9PT0gXCJ1c2VyXCIgJiYgdHlwZW9mIGFyZ3Muc2NvcGVJZCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB7IGtpbmQ6IFwidXNlclwiLCB1c2VySWQ6IGFyZ3Muc2NvcGVJZCB9O1xuICB9XG4gIGlmICh0eXBlb2YgYXJncz8uc2NvcGVQcm9qZWN0SWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4geyBraW5kOiBcInByb2plY3RcIiwgcHJvamVjdElkOiBhcmdzLnNjb3BlUHJvamVjdElkIH07XG4gIH1cbiAgaWYgKHR5cGVvZiBhcmdzPy5zY29wZVVzZXJJZCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB7IGtpbmQ6IFwidXNlclwiLCB1c2VySWQ6IGFyZ3Muc2NvcGVVc2VySWQgfTtcbiAgfVxuICBpZiAodHlwZW9mIGFyZ3M/LmFzc2lnbmVlSWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4geyBraW5kOiBcInVzZXJcIiwgdXNlcklkOiBhcmdzLmFzc2lnbmVlSWQgfTtcbiAgfVxuICBpZiAodHlwZW9mIGFyZ3M/LnByb2plY3RJZCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB7IGtpbmQ6IFwicHJvamVjdFwiLCBwcm9qZWN0SWQ6IGFyZ3MucHJvamVjdElkIH07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBwYXJzZVdpbmRvdyA9IChhcmdzOiBhbnkpID0+IHtcbiAgY29uc3Qgc3RhcnQgPVxuICAgIHR5cGVvZiBhcmdzPy53aW5kb3dTdGFydCA9PT0gXCJudW1iZXJcIlxuICAgICAgPyBhcmdzLndpbmRvd1N0YXJ0XG4gICAgICA6IHR5cGVvZiBhcmdzPy50aW1lX21pbiA9PT0gXCJudW1iZXJcIlxuICAgICAgICA/IGFyZ3MudGltZV9taW5cbiAgICAgICAgOiB0eXBlb2YgYXJncz8uc3RhcnRfYXQgPT09IFwibnVtYmVyXCJcbiAgICAgICAgICA/IGFyZ3Muc3RhcnRfYXRcbiAgICAgICAgICA6IG51bGw7XG4gIGNvbnN0IGVuZCA9XG4gICAgdHlwZW9mIGFyZ3M/LndpbmRvd0VuZCA9PT0gXCJudW1iZXJcIlxuICAgICAgPyBhcmdzLndpbmRvd0VuZFxuICAgICAgOiB0eXBlb2YgYXJncz8udGltZV9tYXggPT09IFwibnVtYmVyXCJcbiAgICAgICAgPyBhcmdzLnRpbWVfbWF4XG4gICAgICAgIDogdHlwZW9mIGFyZ3M/LmVuZF9hdCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgID8gYXJncy5lbmRfYXRcbiAgICAgICAgICA6IG51bGw7XG4gIGlmICghTnVtYmVyLmlzRmluaXRlKHN0YXJ0KSB8fCAhTnVtYmVyLmlzRmluaXRlKGVuZCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4geyBzdGFydDogTnVtYmVyKHN0YXJ0KSwgZW5kOiBOdW1iZXIoZW5kKSB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHJ1bnRpbWUgPSBcIm5vZGVqc1wiO1xuXG5leHBvcnQgY29uc3QgUE9TVCA9IGFzeW5jIChyZXF1ZXN0OiBSZXF1ZXN0KSA9PiB7XG4gIGxldCBjdXJyZW50VXNlcklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcmVxdWlyZVVzZXIoKTtcbiAgICBjdXJyZW50VXNlcklkID0gdXNlci51c2VySWQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvcjogXCJ1bmF1dGhvcml6ZWRcIiB9LCB7IHN0YXR1czogNDAxIH0pO1xuICB9XG5cbiAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpLmNhdGNoKCgpID0+IG51bGwpO1xuICBjb25zdCBuYW1lID0gYm9keT8ubmFtZTtcbiAgY29uc3QgYXJncyA9IGJvZHk/LmFyZ3M7XG5cbiAgaWYgKCFuYW1lIHx8IHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBvazogZmFsc2UsIGVycm9yOiBcInF1ZXJ5IG5hbWUgaXMgcmVxdWlyZWRcIiB9LFxuICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgaWYgKG5hbWUgPT09IFwiY2FsZW5kYXJfdmlld1wiIHx8IG5hbWUgPT09IFwiY2FsZW5kYXJfcmFuZ2VcIiB8fCBuYW1lID09PSBcImNhbGVuZGFyX3JhbmdlX3VzZXJcIikge1xuICAgICAgaWYgKG5hbWUgPT09IFwiY2FsZW5kYXJfcmFuZ2VfdXNlclwiICYmIHR5cGVvZiBhcmdzPy51c2VyX2lkICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IG9rOiBmYWxzZSwgZXJyb3I6IFwidXNlcl9pZCBpcyByZXF1aXJlZFwiIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBzY29wZSA9XG4gICAgICAgIG5hbWUgPT09IFwiY2FsZW5kYXJfcmFuZ2VfdXNlclwiXG4gICAgICAgICAgPyB7IGtpbmQ6IFwidXNlclwiLCB1c2VySWQ6IGFyZ3MudXNlcl9pZCBhcyBzdHJpbmcgfVxuICAgICAgICAgIDogcGFyc2VTY29wZShhcmdzKSA/PyB7IGtpbmQ6IFwiYWxsXCIgfTtcbiAgICAgIGNvbnN0IHdpbmRvdyA9IHBhcnNlV2luZG93KGFyZ3MpO1xuICAgICAgaWYgKCF3aW5kb3cpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgb2s6IGZhbHNlLCBlcnJvcjogXCJ3aW5kb3dTdGFydC93aW5kb3dFbmQgYXJlIHJlcXVpcmVkXCIgfSxcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldENhbGVuZGFyVmlldyh7XG4gICAgICAgIHNjb3BlLFxuICAgICAgICB3aW5kb3dTdGFydDogd2luZG93LnN0YXJ0LFxuICAgICAgICB3aW5kb3dFbmQ6IHdpbmRvdy5lbmQsXG4gICAgICAgIGluY2x1ZGVBcmNoaXZlZDogQm9vbGVhbihhcmdzPy5pbmNsdWRlQXJjaGl2ZWQpLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0KTtcbiAgICB9XG5cbiAgICBpZiAobmFtZSA9PT0gXCJsaXN0X3ZpZXdcIikge1xuICAgICAgY29uc3Qgc2NvcGUgPSBwYXJzZVNjb3BlKGFyZ3MpID8/IHsga2luZDogXCJhbGxcIiB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0TGlzdFZpZXcoe1xuICAgICAgICBzY29wZSxcbiAgICAgICAgaW5jbHVkZUFyY2hpdmVkOiBCb29sZWFuKGFyZ3M/LmluY2x1ZGVBcmNoaXZlZCksXG4gICAgICAgIGluY2x1ZGVDb21wbGV0ZWQ6XG4gICAgICAgICAgdHlwZW9mIGFyZ3M/LmluY2x1ZGVDb21wbGV0ZWQgPT09IFwiYm9vbGVhblwiID8gYXJncy5pbmNsdWRlQ29tcGxldGVkIDogdHJ1ZSxcbiAgICAgICAgYXJjaGl2ZUZpbHRlcjogYXJncz8uYXJjaGl2ZUZpbHRlcixcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3VsdCk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWUgPT09IFwibGlzdF92aWV3X2NvbXBsZXRlXCIpIHtcbiAgICAgIGNvbnN0IHNjb3BlID0gcGFyc2VTY29wZShhcmdzKSA/PyB7IGtpbmQ6IFwiYWxsXCIgfTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldExpc3RWaWV3KHtcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGluY2x1ZGVBcmNoaXZlZDogQm9vbGVhbihhcmdzPy5pbmNsdWRlQXJjaGl2ZWQpLFxuICAgICAgICBpbmNsdWRlQ29tcGxldGVkOlxuICAgICAgICAgIHR5cGVvZiBhcmdzPy5pbmNsdWRlQ29tcGxldGVkID09PSBcImJvb2xlYW5cIiA/IGFyZ3MuaW5jbHVkZUNvbXBsZXRlZCA6IHRydWUsXG4gICAgICAgIGFyY2hpdmVGaWx0ZXI6IGFyZ3M/LmFyY2hpdmVGaWx0ZXIsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXN1bHQpO1xuICAgIH1cblxuICAgIGlmIChuYW1lID09PSBcImxpc3RJdGVtc1wiKSB7XG4gICAgICBjb25zdCBzY29wZSA9IHBhcnNlU2NvcGUoYXJncykgPz8geyBraW5kOiBcImFsbFwiIH07XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRMaXN0Vmlldyh7XG4gICAgICAgIHNjb3BlLFxuICAgICAgICBpbmNsdWRlQXJjaGl2ZWQ6IEJvb2xlYW4oYXJncz8uaW5jbHVkZUFyY2hpdmVkKSxcbiAgICAgICAgaW5jbHVkZUNvbXBsZXRlZDpcbiAgICAgICAgICB0eXBlb2YgYXJncz8uaW5jbHVkZUNvbXBsZXRlZCA9PT0gXCJib29sZWFuXCIgPyBhcmdzLmluY2x1ZGVDb21wbGV0ZWQgOiB0cnVlLFxuICAgICAgICBhcmNoaXZlRmlsdGVyOiBhcmdzPy5hcmNoaXZlRmlsdGVyLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBpdGVtczogcmVzdWx0IH0pO1xuICAgIH1cblxuICAgIGlmIChuYW1lID09PSBcInVzZXJzX2xpc3RcIikge1xuICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCBkYlxuICAgICAgICAuc2VsZWN0RnJvbShcInVzZXJzXCIpXG4gICAgICAgIC5zZWxlY3QoW1wiaWRcIiwgXCJuYW1lXCIsIFwiaW1hZ2VcIl0pXG4gICAgICAgIC5vcmRlckJ5KFwibmFtZVwiLCBcImFzY1wiKVxuICAgICAgICAuZXhlY3V0ZSgpO1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgdXNlcnM6IHVzZXJzLm1hcCgocm93KSA9PiAoe1xuICAgICAgICAgIHVzZXJfaWQ6IHJvdy5pZCxcbiAgICAgICAgICBkaXNwbGF5X25hbWU6IHJvdy5uYW1lID8/IFwiVW5rbm93blwiLFxuICAgICAgICAgIGF2YXRhcl91cmw6IHJvdy5pbWFnZSA/PyBudWxsLFxuICAgICAgICB9KSksXG4gICAgICAgIGN1cnJlbnRfdXNlcl9pZDogY3VycmVudFVzZXJJZCxcbiAgICAgIH07XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocGF5bG9hZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBvazogZmFsc2UsIGVycm9yOiBcInF1ZXJ5IG5vdCBpbXBsZW1lbnRlZFwiLCBuYW1lLCBhcmdzIH0sXG4gICAgICB7IHN0YXR1czogNTAxIH1cbiAgICApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwicXVlcnkgZmFpbGVkXCI7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvcjogbWVzc2FnZSB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInJlcXVpcmVVc2VyIiwiZ2V0Q2FsZW5kYXJWaWV3IiwiZ2V0TGlzdFZpZXciLCJkYiIsInBhcnNlU2NvcGUiLCJhcmdzIiwic2NvcGUiLCJraW5kIiwicHJvamVjdElkIiwidXNlcklkIiwic2NvcGVUeXBlIiwic2NvcGVJZCIsInNjb3BlUHJvamVjdElkIiwic2NvcGVVc2VySWQiLCJhc3NpZ25lZUlkIiwicGFyc2VXaW5kb3ciLCJzdGFydCIsIndpbmRvd1N0YXJ0IiwidGltZV9taW4iLCJzdGFydF9hdCIsImVuZCIsIndpbmRvd0VuZCIsInRpbWVfbWF4IiwiZW5kX2F0IiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJydW50aW1lIiwiUE9TVCIsInJlcXVlc3QiLCJjdXJyZW50VXNlcklkIiwidXNlciIsImVycm9yIiwianNvbiIsIm9rIiwic3RhdHVzIiwiYm9keSIsImNhdGNoIiwibmFtZSIsInVzZXJfaWQiLCJ3aW5kb3ciLCJyZXN1bHQiLCJpbmNsdWRlQXJjaGl2ZWQiLCJCb29sZWFuIiwiaW5jbHVkZUNvbXBsZXRlZCIsImFyY2hpdmVGaWx0ZXIiLCJpdGVtcyIsInVzZXJzIiwic2VsZWN0RnJvbSIsInNlbGVjdCIsIm9yZGVyQnkiLCJleGVjdXRlIiwicGF5bG9hZCIsIm1hcCIsInJvdyIsImlkIiwiZGlzcGxheV9uYW1lIiwiYXZhdGFyX3VybCIsImltYWdlIiwiY3VycmVudF91c2VyX2lkIiwibWVzc2FnZSIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/query/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth/auth.ts":
/*!**************************!*\
  !*** ./lib/auth/auth.ts ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   requireUser: () => (/* binding */ requireUser)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/.pnpm/next-auth@4.24.13_next@14.2.35_@babel+core@7.28.5_react-dom@18.3.1_react@18.3.1__react@_5516ee114dfc8862c069433b1ec75012/node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/.pnpm/next-auth@4.24.13_next@14.2.35_@babel+core@7.28.5_react-dom@18.3.1_react@18.3.1__react@_5516ee114dfc8862c069433b1ec75012/node_modules/next-auth/providers/google.js\");\n/* harmony import */ var _db_kysely__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../db/kysely */ \"(rsc)/./lib/db/kysely.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db_kysely__WEBPACK_IMPORTED_MODULE_2__]);\n_db_kysely__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID || \"\",\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"\"\n        })\n    ],\n    secret: process.env.AUTH_SECRET,\n    session: {\n        strategy: \"jwt\"\n    }\n};\nconst ensureUser = async (email, name, image)=>{\n    const existing = await _db_kysely__WEBPACK_IMPORTED_MODULE_2__.db.selectFrom(\"users\").select([\n        \"id\",\n        \"email\",\n        \"name\",\n        \"image\"\n    ]).where(\"email\", \"=\", email).executeTakeFirst();\n    if (existing) {\n        const needsUpdate = name && existing.name !== name || image && existing.image !== image;\n        if (needsUpdate) {\n            await _db_kysely__WEBPACK_IMPORTED_MODULE_2__.db.updateTable(\"users\").set({\n                name: name ?? existing.name,\n                image: image ?? existing.image\n            }).where(\"id\", \"=\", existing.id).execute();\n        }\n        return existing;\n    }\n    const inserted = await _db_kysely__WEBPACK_IMPORTED_MODULE_2__.db.insertInto(\"users\").values({\n        email,\n        name: name ?? null,\n        image: image ?? null\n    }).returning([\n        \"id\",\n        \"email\",\n        \"name\",\n        \"image\"\n    ]).executeTakeFirstOrThrow();\n    return inserted;\n};\nconst requireUser = async ()=>{\n    const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_0__.getServerSession)(authOptions);\n    const email = session?.user?.email;\n    if (!email) {\n        throw new Error(\"Unauthorized\");\n    }\n    const user = await ensureUser(email, session?.user?.name ?? null, session?.user?.image ?? null);\n    return {\n        userId: user.id,\n        email: user.email,\n        name: user.name ?? session?.user?.name ?? null,\n        avatarUrl: user.image ?? session?.user?.image ?? null\n    };\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC9hdXRoLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUM2QztBQUNXO0FBQ3RCO0FBRTNCLE1BQU1HLGNBQStCO0lBQzFDQyxXQUFXO1FBQ1RILHNFQUFjQSxDQUFDO1lBQ2JJLFVBQVVDLFFBQVFDLEdBQUcsQ0FBQ0MsZ0JBQWdCLElBQUk7WUFDMUNDLGNBQWNILFFBQVFDLEdBQUcsQ0FBQ0csb0JBQW9CLElBQUk7UUFDcEQ7S0FDRDtJQUNEQyxRQUFRTCxRQUFRQyxHQUFHLENBQUNLLFdBQVc7SUFDL0JDLFNBQVM7UUFBRUMsVUFBVTtJQUFNO0FBQzdCLEVBQUU7QUFFRixNQUFNQyxhQUFhLE9BQU9DLE9BQWVDLE1BQXNCQztJQUM3RCxNQUFNQyxXQUFXLE1BQU1qQiwwQ0FBRUEsQ0FDdEJrQixVQUFVLENBQUMsU0FDWEMsTUFBTSxDQUFDO1FBQUM7UUFBTTtRQUFTO1FBQVE7S0FBUSxFQUN2Q0MsS0FBSyxDQUFDLFNBQVMsS0FBS04sT0FDcEJPLGdCQUFnQjtJQUVuQixJQUFJSixVQUFVO1FBQ1osTUFBTUssY0FDSixRQUFTTCxTQUFTRixJQUFJLEtBQUtBLFFBQzFCQyxTQUFTQyxTQUFTRCxLQUFLLEtBQUtBO1FBQy9CLElBQUlNLGFBQWE7WUFDZixNQUFNdEIsMENBQUVBLENBQ0x1QixXQUFXLENBQUMsU0FDWkMsR0FBRyxDQUFDO2dCQUNIVCxNQUFNQSxRQUFRRSxTQUFTRixJQUFJO2dCQUMzQkMsT0FBT0EsU0FBU0MsU0FBU0QsS0FBSztZQUNoQyxHQUNDSSxLQUFLLENBQUMsTUFBTSxLQUFLSCxTQUFTUSxFQUFFLEVBQzVCQyxPQUFPO1FBQ1o7UUFDQSxPQUFPVDtJQUNUO0lBRUEsTUFBTVUsV0FBVyxNQUFNM0IsMENBQUVBLENBQ3RCNEIsVUFBVSxDQUFDLFNBQ1hDLE1BQU0sQ0FBQztRQUNOZjtRQUNBQyxNQUFNQSxRQUFRO1FBQ2RDLE9BQU9BLFNBQVM7SUFDbEIsR0FDQ2MsU0FBUyxDQUFDO1FBQUM7UUFBTTtRQUFTO1FBQVE7S0FBUSxFQUMxQ0MsdUJBQXVCO0lBRTFCLE9BQU9KO0FBQ1Q7QUFFTyxNQUFNSyxjQUFjO0lBQ3pCLE1BQU1yQixVQUFVLE1BQU1iLDJEQUFnQkEsQ0FBQ0c7SUFDdkMsTUFBTWEsUUFBUUgsU0FBU3NCLE1BQU1uQjtJQUM3QixJQUFJLENBQUNBLE9BQU87UUFDVixNQUFNLElBQUlvQixNQUFNO0lBQ2xCO0lBRUEsTUFBTUQsT0FBTyxNQUFNcEIsV0FDakJDLE9BQ0FILFNBQVNzQixNQUFNbEIsUUFBUSxNQUN2QkosU0FBU3NCLE1BQU1qQixTQUFTO0lBRzFCLE9BQU87UUFDTG1CLFFBQVFGLEtBQUtSLEVBQUU7UUFDZlgsT0FBT21CLEtBQUtuQixLQUFLO1FBQ2pCQyxNQUFNa0IsS0FBS2xCLElBQUksSUFBSUosU0FBU3NCLE1BQU1sQixRQUFRO1FBQzFDcUIsV0FBV0gsS0FBS2pCLEtBQUssSUFBSUwsU0FBU3NCLE1BQU1qQixTQUFTO0lBQ25EO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2V3aGVuLy4vbGliL2F1dGgvYXV0aC50cz9hZDljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEF1dGhPcHRpb25zIH0gZnJvbSBcIm5leHQtYXV0aFwiO1xuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gXCJuZXh0LWF1dGhcIjtcbmltcG9ydCBHb29nbGVQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9nb29nbGVcIjtcbmltcG9ydCB7IGRiIH0gZnJvbSBcIi4uL2RiL2t5c2VseVwiO1xuXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnM6IE5leHRBdXRoT3B0aW9ucyA9IHtcbiAgcHJvdmlkZXJzOiBbXG4gICAgR29vZ2xlUHJvdmlkZXIoe1xuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfSUQgfHwgXCJcIixcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9TRUNSRVQgfHwgXCJcIixcbiAgICB9KSxcbiAgXSxcbiAgc2VjcmV0OiBwcm9jZXNzLmVudi5BVVRIX1NFQ1JFVCxcbiAgc2Vzc2lvbjogeyBzdHJhdGVneTogXCJqd3RcIiB9LFxufTtcblxuY29uc3QgZW5zdXJlVXNlciA9IGFzeW5jIChlbWFpbDogc3RyaW5nLCBuYW1lPzogc3RyaW5nIHwgbnVsbCwgaW1hZ2U/OiBzdHJpbmcgfCBudWxsKSA9PiB7XG4gIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgZGJcbiAgICAuc2VsZWN0RnJvbShcInVzZXJzXCIpXG4gICAgLnNlbGVjdChbXCJpZFwiLCBcImVtYWlsXCIsIFwibmFtZVwiLCBcImltYWdlXCJdKVxuICAgIC53aGVyZShcImVtYWlsXCIsIFwiPVwiLCBlbWFpbClcbiAgICAuZXhlY3V0ZVRha2VGaXJzdCgpO1xuXG4gIGlmIChleGlzdGluZykge1xuICAgIGNvbnN0IG5lZWRzVXBkYXRlID1cbiAgICAgIChuYW1lICYmIGV4aXN0aW5nLm5hbWUgIT09IG5hbWUpIHx8XG4gICAgICAoaW1hZ2UgJiYgZXhpc3RpbmcuaW1hZ2UgIT09IGltYWdlKTtcbiAgICBpZiAobmVlZHNVcGRhdGUpIHtcbiAgICAgIGF3YWl0IGRiXG4gICAgICAgIC51cGRhdGVUYWJsZShcInVzZXJzXCIpXG4gICAgICAgIC5zZXQoe1xuICAgICAgICAgIG5hbWU6IG5hbWUgPz8gZXhpc3RpbmcubmFtZSxcbiAgICAgICAgICBpbWFnZTogaW1hZ2UgPz8gZXhpc3RpbmcuaW1hZ2UsXG4gICAgICAgIH0pXG4gICAgICAgIC53aGVyZShcImlkXCIsIFwiPVwiLCBleGlzdGluZy5pZClcbiAgICAgICAgLmV4ZWN1dGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4aXN0aW5nO1xuICB9XG5cbiAgY29uc3QgaW5zZXJ0ZWQgPSBhd2FpdCBkYlxuICAgIC5pbnNlcnRJbnRvKFwidXNlcnNcIilcbiAgICAudmFsdWVzKHtcbiAgICAgIGVtYWlsLFxuICAgICAgbmFtZTogbmFtZSA/PyBudWxsLFxuICAgICAgaW1hZ2U6IGltYWdlID8/IG51bGwsXG4gICAgfSlcbiAgICAucmV0dXJuaW5nKFtcImlkXCIsIFwiZW1haWxcIiwgXCJuYW1lXCIsIFwiaW1hZ2VcIl0pXG4gICAgLmV4ZWN1dGVUYWtlRmlyc3RPclRocm93KCk7XG5cbiAgcmV0dXJuIGluc2VydGVkO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlcXVpcmVVc2VyID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XG4gIGNvbnN0IGVtYWlsID0gc2Vzc2lvbj8udXNlcj8uZW1haWw7XG4gIGlmICghZW1haWwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmF1dGhvcml6ZWRcIik7XG4gIH1cblxuICBjb25zdCB1c2VyID0gYXdhaXQgZW5zdXJlVXNlcihcbiAgICBlbWFpbCxcbiAgICBzZXNzaW9uPy51c2VyPy5uYW1lID8/IG51bGwsXG4gICAgc2Vzc2lvbj8udXNlcj8uaW1hZ2UgPz8gbnVsbFxuICApO1xuXG4gIHJldHVybiB7XG4gICAgdXNlcklkOiB1c2VyLmlkLFxuICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgIG5hbWU6IHVzZXIubmFtZSA/PyBzZXNzaW9uPy51c2VyPy5uYW1lID8/IG51bGwsXG4gICAgYXZhdGFyVXJsOiB1c2VyLmltYWdlID8/IHNlc3Npb24/LnVzZXI/LmltYWdlID8/IG51bGwsXG4gIH07XG59O1xuIl0sIm5hbWVzIjpbImdldFNlcnZlclNlc3Npb24iLCJHb29nbGVQcm92aWRlciIsImRiIiwiYXV0aE9wdGlvbnMiLCJwcm92aWRlcnMiLCJjbGllbnRJZCIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfQ0xJRU5UX0lEIiwiY2xpZW50U2VjcmV0IiwiR09PR0xFX0NMSUVOVF9TRUNSRVQiLCJzZWNyZXQiLCJBVVRIX1NFQ1JFVCIsInNlc3Npb24iLCJzdHJhdGVneSIsImVuc3VyZVVzZXIiLCJlbWFpbCIsIm5hbWUiLCJpbWFnZSIsImV4aXN0aW5nIiwic2VsZWN0RnJvbSIsInNlbGVjdCIsIndoZXJlIiwiZXhlY3V0ZVRha2VGaXJzdCIsIm5lZWRzVXBkYXRlIiwidXBkYXRlVGFibGUiLCJzZXQiLCJpZCIsImV4ZWN1dGUiLCJpbnNlcnRlZCIsImluc2VydEludG8iLCJ2YWx1ZXMiLCJyZXR1cm5pbmciLCJleGVjdXRlVGFrZUZpcnN0T3JUaHJvdyIsInJlcXVpcmVVc2VyIiwidXNlciIsIkVycm9yIiwidXNlcklkIiwiYXZhdGFyVXJsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db/kysely.ts":
/*!**************************!*\
  !*** ./lib/db/kysely.ts ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var kysely__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! kysely */ \"(rsc)/./node_modules/.pnpm/kysely@0.27.6/node_modules/kysely/dist/esm/kysely.js\");\n/* harmony import */ var kysely__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! kysely */ \"(rsc)/./node_modules/.pnpm/kysely@0.27.6/node_modules/kysely/dist/esm/dialect/postgres/postgres-dialect.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__]);\npg__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst { Pool } = pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\nconst createDb = ()=>{\n    const databaseUrl = process.env.DATABASE_URL;\n    if (!databaseUrl) {\n        throw new Error(\"DATABASE_URL is not set\");\n    }\n    return new kysely__WEBPACK_IMPORTED_MODULE_1__.Kysely({\n        dialect: new kysely__WEBPACK_IMPORTED_MODULE_2__.PostgresDialect({\n            pool: new Pool({\n                connectionString: databaseUrl\n            })\n        })\n    });\n};\nconst db = globalThis.__makewhenDb ?? createDb();\nif (true) {\n    globalThis.__makewhenDb = db;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIva3lzZWx5LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBb0I7QUFDNkI7QUFHakQsTUFBTSxFQUFFRyxJQUFJLEVBQUUsR0FBR0gsMENBQUVBO0FBRW5CLE1BQU1JLFdBQVc7SUFDZixNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNDLFlBQVk7SUFDNUMsSUFBSSxDQUFDSCxhQUFhO1FBQ2hCLE1BQU0sSUFBSUksTUFBTTtJQUNsQjtJQUNBLE9BQU8sSUFBSVIsMENBQU1BLENBQVc7UUFDMUJTLFNBQVMsSUFBSVIsbURBQWVBLENBQUM7WUFDM0JTLE1BQU0sSUFBSVIsS0FBSztnQkFBRVMsa0JBQWtCUDtZQUFZO1FBQ2pEO0lBQ0Y7QUFDRjtBQU9PLE1BQU1RLEtBQUtDLFdBQVdDLFlBQVksSUFBSVgsV0FBVztBQUV4RCxJQUFJRSxJQUFxQyxFQUFFO0lBQ3pDUSxXQUFXQyxZQUFZLEdBQUdGO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZXdoZW4vLi9saWIvZGIva3lzZWx5LnRzP2MzZWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBnIGZyb20gXCJwZ1wiO1xuaW1wb3J0IHsgS3lzZWx5LCBQb3N0Z3Jlc0RpYWxlY3QgfSBmcm9tIFwia3lzZWx5XCI7XG5pbXBvcnQgdHlwZSB7IERhdGFiYXNlIH0gZnJvbSBcIi4vc2NoZW1hXCI7XG5cbmNvbnN0IHsgUG9vbCB9ID0gcGc7XG5cbmNvbnN0IGNyZWF0ZURiID0gKCkgPT4ge1xuICBjb25zdCBkYXRhYmFzZVVybCA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTDtcbiAgaWYgKCFkYXRhYmFzZVVybCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkRBVEFCQVNFX1VSTCBpcyBub3Qgc2V0XCIpO1xuICB9XG4gIHJldHVybiBuZXcgS3lzZWx5PERhdGFiYXNlPih7XG4gICAgZGlhbGVjdDogbmV3IFBvc3RncmVzRGlhbGVjdCh7XG4gICAgICBwb29sOiBuZXcgUG9vbCh7IGNvbm5lY3Rpb25TdHJpbmc6IGRhdGFiYXNlVXJsIH0pLFxuICAgIH0pLFxuICB9KTtcbn07XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuICB2YXIgX19tYWtld2hlbkRiOiBLeXNlbHk8RGF0YWJhc2U+IHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY29uc3QgZGIgPSBnbG9iYWxUaGlzLl9fbWFrZXdoZW5EYiA/PyBjcmVhdGVEYigpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIGdsb2JhbFRoaXMuX19tYWtld2hlbkRiID0gZGI7XG59XG4iXSwibmFtZXMiOlsicGciLCJLeXNlbHkiLCJQb3N0Z3Jlc0RpYWxlY3QiLCJQb29sIiwiY3JlYXRlRGIiLCJkYXRhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJFcnJvciIsImRpYWxlY3QiLCJwb29sIiwiY29ubmVjdGlvblN0cmluZyIsImRiIiwiZ2xvYmFsVGhpcyIsIl9fbWFrZXdoZW5EYiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db/kysely.ts\n");

/***/ }),

/***/ "(rsc)/./lib/domain/rollup.ts":
/*!******************************!*\
  !*** ./lib/domain/rollup.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeRollupTotals: () => (/* binding */ computeRollupTotals)\n/* harmony export */ });\nconst minNullable = (a, b)=>{\n    if (a === null) {\n        return b;\n    }\n    if (b === null) {\n        return a;\n    }\n    return Math.min(a, b);\n};\nconst maxNullable = (a, b)=>{\n    if (a === null) {\n        return b;\n    }\n    if (b === null) {\n        return a;\n    }\n    return Math.max(a, b);\n};\nconst computeRollupTotals = (rows, scheduleMap, blockedMap, dueMetricsMap, timeMap)=>{\n    const rowMap = new Map(rows.map((row)=>[\n            row.id,\n            row\n        ]));\n    const nodeMap = new Map(rows.map((row)=>[\n            row.id,\n            {\n                parent_id: row.parent_id,\n                children: []\n            }\n        ]));\n    for (const row of rows){\n        if (row.parent_id && nodeMap.has(row.parent_id)) {\n            nodeMap.get(row.parent_id).children.push(row.id);\n        }\n    }\n    const totalsMap = new Map();\n    const visiting = new Set();\n    const compute = (id)=>{\n        if (totalsMap.has(id)) {\n            return totalsMap.get(id);\n        }\n        if (visiting.has(id)) {\n            return {\n                totalEstimate: 0,\n                totalActual: 0,\n                rollupStartAt: null,\n                rollupEndAt: null,\n                rollupBlockedCount: 0,\n                rollupOverdueCount: 0\n            };\n        }\n        visiting.add(id);\n        const row = rowMap.get(id);\n        const node = nodeMap.get(id);\n        let estimate = row?.estimate_minutes ?? 0;\n        let actual = timeMap.get(id) ?? 0;\n        let rollupStartAt = scheduleMap.get(id)?.start ?? null;\n        let rollupEndAt = scheduleMap.get(id)?.end ?? null;\n        let rollupBlockedCount = blockedMap.get(id)?.is_blocked ? 1 : 0;\n        let rollupOverdueCount = dueMetricsMap.get(id)?.is_overdue ? 1 : 0;\n        for (const childId of node?.children ?? []){\n            const childTotals = compute(childId);\n            if (row?.estimate_mode === \"rollup\") {\n                estimate += childTotals.totalEstimate;\n            }\n            actual += childTotals.totalActual;\n            rollupStartAt = minNullable(rollupStartAt, childTotals.rollupStartAt);\n            rollupEndAt = maxNullable(rollupEndAt, childTotals.rollupEndAt);\n            rollupBlockedCount += childTotals.rollupBlockedCount;\n            rollupOverdueCount += childTotals.rollupOverdueCount;\n        }\n        const totals = {\n            totalEstimate: estimate,\n            totalActual: actual,\n            rollupStartAt,\n            rollupEndAt,\n            rollupBlockedCount,\n            rollupOverdueCount\n        };\n        totalsMap.set(id, totals);\n        visiting.delete(id);\n        return totals;\n    };\n    for (const row of rows){\n        const parentId = row.parent_id;\n        if (!parentId || !nodeMap.has(parentId)) {\n            compute(row.id);\n        }\n    }\n    for (const row of rows){\n        if (!totalsMap.has(row.id)) {\n            compute(row.id);\n        }\n    }\n    return totalsMap;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBQztRQUNGO1FBQ0FULFVBQVV1QixHQUFHLENBQUM5QixJQUFJNkI7UUFDbEJyQixTQUFTdUIsTUFBTSxDQUFDL0I7UUFDaEIsT0FBTzZCO0lBQ1Q7SUFFQSxLQUFLLE1BQU05QixPQUFPUixLQUFNO1FBQ3RCLE1BQU15QyxXQUFXakMsSUFBSUcsU0FBUztRQUM5QixJQUFJLENBQUM4QixZQUFZLENBQUMvQixRQUFRRyxHQUFHLENBQUM0QixXQUFXO1lBQ3ZDdEIsUUFBUVgsSUFBSUMsRUFBRTtRQUNoQjtJQUNGO0lBRUEsS0FBSyxNQUFNRCxPQUFPUixLQUFNO1FBQ3RCLElBQUksQ0FBQ2dCLFVBQVVILEdBQUcsQ0FBQ0wsSUFBSUMsRUFBRSxHQUFHO1lBQzFCVSxRQUFRWCxJQUFJQyxFQUFFO1FBQ2hCO0lBQ0Y7SUFFQSxPQUFPTztBQUNULEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWtld2hlbi8uL2xpYi9kb21haW4vcm9sbHVwLnRzPzc0ODciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHR5cGUgUm9sbHVwVG90YWxzID0ge1xuICB0b3RhbEVzdGltYXRlOiBudW1iZXI7XG4gIHRvdGFsQWN0dWFsOiBudW1iZXI7XG4gIHJvbGx1cFN0YXJ0QXQ6IG51bWJlciB8IG51bGw7XG4gIHJvbGx1cEVuZEF0OiBudW1iZXIgfCBudWxsO1xuICByb2xsdXBCbG9ja2VkQ291bnQ6IG51bWJlcjtcbiAgcm9sbHVwT3ZlcmR1ZUNvdW50OiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBSb2xsdXBSb3cgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHBhcmVudF9pZDogc3RyaW5nIHwgbnVsbDtcbiAgZXN0aW1hdGVfbWludXRlczogbnVtYmVyO1xuICBlc3RpbWF0ZV9tb2RlPzogc3RyaW5nIHwgbnVsbDtcbn07XG5cbnR5cGUgU2NoZWR1bGVTdW1tYXJ5ID0ge1xuICBzdGFydDogbnVtYmVyIHwgbnVsbDtcbiAgZW5kOiBudW1iZXIgfCBudWxsO1xufTtcblxudHlwZSBCbG9ja2VkU3VtbWFyeSA9IHtcbiAgaXNfYmxvY2tlZDogYm9vbGVhbjtcbn07XG5cbnR5cGUgRHVlTWV0cmljcyA9IHtcbiAgaXNfb3ZlcmR1ZTogYm9vbGVhbjtcbn07XG5cbmNvbnN0IG1pbk51bGxhYmxlID0gKGE6IG51bWJlciB8IG51bGwsIGI6IG51bWJlciB8IG51bGwpID0+IHtcbiAgaWYgKGEgPT09IG51bGwpIHtcbiAgICByZXR1cm4gYjtcbiAgfVxuICBpZiAoYiA9PT0gbnVsbCkge1xuICAgIHJldHVybiBhO1xuICB9XG4gIHJldHVybiBNYXRoLm1pbihhLCBiKTtcbn07XG5cbmNvbnN0IG1heE51bGxhYmxlID0gKGE6IG51bWJlciB8IG51bGwsIGI6IG51bWJlciB8IG51bGwpID0+IHtcbiAgaWYgKGEgPT09IG51bGwpIHtcbiAgICByZXR1cm4gYjtcbiAgfVxuICBpZiAoYiA9PT0gbnVsbCkge1xuICAgIHJldHVybiBhO1xuICB9XG4gIHJldHVybiBNYXRoLm1heChhLCBiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb21wdXRlUm9sbHVwVG90YWxzID0gKFxuICByb3dzOiBSb2xsdXBSb3dbXSxcbiAgc2NoZWR1bGVNYXA6IE1hcDxzdHJpbmcsIFNjaGVkdWxlU3VtbWFyeT4sXG4gIGJsb2NrZWRNYXA6IE1hcDxzdHJpbmcsIEJsb2NrZWRTdW1tYXJ5PixcbiAgZHVlTWV0cmljc01hcDogTWFwPHN0cmluZywgRHVlTWV0cmljcz4sXG4gIHRpbWVNYXA6IE1hcDxzdHJpbmcsIG51bWJlcj5cbikgPT4ge1xuICBjb25zdCByb3dNYXAgPSBuZXcgTWFwKHJvd3MubWFwKChyb3cpID0+IFtyb3cuaWQsIHJvd10pKTtcbiAgY29uc3Qgbm9kZU1hcCA9IG5ldyBNYXAoXG4gICAgcm93cy5tYXAoKHJvdykgPT4gW1xuICAgICAgcm93LmlkLFxuICAgICAge1xuICAgICAgICBwYXJlbnRfaWQ6IHJvdy5wYXJlbnRfaWQsXG4gICAgICAgIGNoaWxkcmVuOiBbXSBhcyBzdHJpbmdbXSxcbiAgICAgIH0sXG4gICAgXSlcbiAgKTtcblxuICBmb3IgKGNvbnN0IHJvdyBvZiByb3dzKSB7XG4gICAgaWYgKHJvdy5wYXJlbnRfaWQgJiYgbm9kZU1hcC5oYXMocm93LnBhcmVudF9pZCkpIHtcbiAgICAgIG5vZGVNYXAuZ2V0KHJvdy5wYXJlbnRfaWQpIS5jaGlsZHJlbi5wdXNoKHJvdy5pZCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgdG90YWxzTWFwID0gbmV3IE1hcDxzdHJpbmcsIFJvbGx1cFRvdGFscz4oKTtcbiAgY29uc3QgdmlzaXRpbmcgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICBjb25zdCBjb21wdXRlID0gKGlkOiBzdHJpbmcpOiBSb2xsdXBUb3RhbHMgPT4ge1xuICAgIGlmICh0b3RhbHNNYXAuaGFzKGlkKSkge1xuICAgICAgcmV0dXJuIHRvdGFsc01hcC5nZXQoaWQpITtcbiAgICB9XG4gICAgaWYgKHZpc2l0aW5nLmhhcyhpZCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsRXN0aW1hdGU6IDAsXG4gICAgICAgIHRvdGFsQWN0dWFsOiAwLFxuICAgICAgICByb2xsdXBTdGFydEF0OiBudWxsLFxuICAgICAgICByb2xsdXBFbmRBdDogbnVsbCxcbiAgICAgICAgcm9sbHVwQmxvY2tlZENvdW50OiAwLFxuICAgICAgICByb2xsdXBPdmVyZHVlQ291bnQ6IDAsXG4gICAgICB9O1xuICAgIH1cbiAgICB2aXNpdGluZy5hZGQoaWQpO1xuICAgIGNvbnN0IHJvdyA9IHJvd01hcC5nZXQoaWQpO1xuICAgIGNvbnN0IG5vZGUgPSBub2RlTWFwLmdldChpZCk7XG4gICAgbGV0IGVzdGltYXRlID0gcm93Py5lc3RpbWF0ZV9taW51dGVzID8/IDA7XG4gICAgbGV0IGFjdHVhbCA9IHRpbWVNYXAuZ2V0KGlkKSA/PyAwO1xuICAgIGxldCByb2xsdXBTdGFydEF0ID0gc2NoZWR1bGVNYXAuZ2V0KGlkKT8uc3RhcnQgPz8gbnVsbDtcbiAgICBsZXQgcm9sbHVwRW5kQXQgPSBzY2hlZHVsZU1hcC5nZXQoaWQpPy5lbmQgPz8gbnVsbDtcbiAgICBsZXQgcm9sbHVwQmxvY2tlZENvdW50ID0gYmxvY2tlZE1hcC5nZXQoaWQpPy5pc19ibG9ja2VkID8gMSA6IDA7XG4gICAgbGV0IHJvbGx1cE92ZXJkdWVDb3VudCA9IGR1ZU1ldHJpY3NNYXAuZ2V0KGlkKT8uaXNfb3ZlcmR1ZSA/IDEgOiAwO1xuXG4gICAgZm9yIChjb25zdCBjaGlsZElkIG9mIG5vZGU/LmNoaWxkcmVuID8/IFtdKSB7XG4gICAgICBjb25zdCBjaGlsZFRvdGFscyA9IGNvbXB1dGUoY2hpbGRJZCk7XG4gICAgICBpZiAocm93Py5lc3RpbWF0ZV9tb2RlID09PSBcInJvbGx1cFwiKSB7XG4gICAgICAgIGVzdGltYXRlICs9IGNoaWxkVG90YWxzLnRvdGFsRXN0aW1hdGU7XG4gICAgICB9XG4gICAgICBhY3R1YWwgKz0gY2hpbGRUb3RhbHMudG90YWxBY3R1YWw7XG4gICAgICByb2xsdXBTdGFydEF0ID0gbWluTnVsbGFibGUocm9sbHVwU3RhcnRBdCwgY2hpbGRUb3RhbHMucm9sbHVwU3RhcnRBdCk7XG4gICAgICByb2xsdXBFbmRBdCA9IG1heE51bGxhYmxlKHJvbGx1cEVuZEF0LCBjaGlsZFRvdGFscy5yb2xsdXBFbmRBdCk7XG4gICAgICByb2xsdXBCbG9ja2VkQ291bnQgKz0gY2hpbGRUb3RhbHMucm9sbHVwQmxvY2tlZENvdW50O1xuICAgICAgcm9sbHVwT3ZlcmR1ZUNvdW50ICs9IGNoaWxkVG90YWxzLnJvbGx1cE92ZXJkdWVDb3VudDtcbiAgICB9XG5cbiAgICBjb25zdCB0b3RhbHM6IFJvbGx1cFRvdGFscyA9IHtcbiAgICAgIHRvdGFsRXN0aW1hdGU6IGVzdGltYXRlLFxuICAgICAgdG90YWxBY3R1YWw6IGFjdHVhbCxcbiAgICAgIHJvbGx1cFN0YXJ0QXQsXG4gICAgICByb2xsdXBFbmRBdCxcbiAgICAgIHJvbGx1cEJsb2NrZWRDb3VudCxcbiAgICAgIHJvbGx1cE92ZXJkdWVDb3VudCxcbiAgICB9O1xuICAgIHRvdGFsc01hcC5zZXQoaWQsIHRvdGFscyk7XG4gICAgdmlzaXRpbmcuZGVsZXRlKGlkKTtcbiAgICByZXR1cm4gdG90YWxzO1xuICB9O1xuXG4gIGZvciAoY29uc3Qgcm93IG9mIHJvd3MpIHtcbiAgICBjb25zdCBwYXJlbnRJZCA9IHJvdy5wYXJlbnRfaWQ7XG4gICAgaWYgKCFwYXJlbnRJZCB8fCAhbm9kZU1hcC5oYXMocGFyZW50SWQpKSB7XG4gICAgICBjb21wdXRlKHJvdy5pZCk7XG4gICAgfVxuICB9XG5cbiAgZm9yIChjb25zdCByb3cgb2Ygcm93cykge1xuICAgIGlmICghdG90YWxzTWFwLmhhcyhyb3cuaWQpKSB7XG4gICAgICBjb21wdXRlKHJvdy5pZCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRvdGFsc01hcDtcbn07XG4iXSwibmFtZXMiOlsibWluTnVsbGFibGUiLCJhIiwiYiIsIk1hdGgiLCJtaW4iLCJtYXhOdWxsYWJsZSIsIm1heCIsImNvbXB1dGVSb2xsdXBUb3RhbHMiLCJyb3dzIiwic2NoZWR1bGVNYXAiLCJibG9ja2VkTWFwIiwiZHVlTWV0cmljc01hcCIsInRpbWVNYXAiLCJyb3dNYXAiLCJNYXAiLCJtYXAiLCJyb3ciLCJpZCIsIm5vZGVNYXAiLCJwYXJlbnRfaWQiLCJjaGlsZHJlbiIsImhhcyIsImdldCIsInB1c2giLCJ0b3RhbHNNYXAiLCJ2aXNpdGluZyIsIlNldCIsImNvbXB1dGUiLCJ0b3RhbEVzdGltYXRlIiwidG90YWxBY3R1YWwiLCJyb2xsdXBTdGFydEF0Iiwicm9sbHVwRW5kQXQiLCJyb2xsdXBCbG9ja2VkQ291bnQiLCJyb2xsdXBPdmVyZHVlQ291bnQiLCJhZGQiLCJub2RlIiwiZXN0aW1hdGUiLCJlc3RpbWF0ZV9taW51dGVzIiwiYWN0dWFsIiwic3RhcnQiLCJlbmQiLCJpc19ibG9ja2VkIiwiaXNfb3ZlcmR1ZSIsImNoaWxkSWQiLCJjaGlsZFRvdGFscyIsImVzdGltYXRlX21vZGUiLCJ0b3RhbHMiLCJzZXQiLCJkZWxldGUiLCJwYXJlbnRJZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/domain/rollup.ts\n");

/***/ }),

/***/ "(rsc)/./lib/domain/scheduleMath.ts":
/*!************************************!*\
  !*** ./lib/domain/scheduleMath.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeSlackMinutes: () => (/* binding */ computeSlackMinutes),\n/* harmony export */   deriveEndAtFromDuration: () => (/* binding */ deriveEndAtFromDuration),\n/* harmony export */   evaluateDependencyStatus: () => (/* binding */ evaluateDependencyStatus)\n/* harmony export */ });\nconst deriveEndAtFromDuration = (startAt, durationMinutes)=>{\n    if (!Number.isFinite(startAt) || !Number.isFinite(durationMinutes)) {\n        return null;\n    }\n    return startAt + durationMinutes * 60000;\n};\nconst computeSlackMinutes = (dueAt, plannedEnd)=>{\n    if (!Number.isFinite(dueAt) || !Number.isFinite(plannedEnd)) {\n        return null;\n    }\n    return Math.round((dueAt - plannedEnd) / 60000);\n};\nconst evaluateDependencyStatus = ({ predecessorStart, predecessorEnd, successorStart, successorEnd, type, lagMinutes })=>{\n    const lagMs = (Number.isFinite(lagMinutes) ? lagMinutes : 0) * 60000;\n    if (!Number.isFinite(lagMs)) {\n        return \"unknown\";\n    }\n    const predStart = Number.isFinite(predecessorStart) ? predecessorStart : null;\n    const predEnd = Number.isFinite(predecessorEnd) ? predecessorEnd : null;\n    const succStart = Number.isFinite(successorStart) ? successorStart : null;\n    const succEnd = Number.isFinite(successorEnd) ? successorEnd : null;\n    switch(type){\n        case \"FS\":\n            if (predEnd === null || succStart === null) return \"unknown\";\n            return succStart >= predEnd + lagMs ? \"satisfied\" : \"violated\";\n        case \"SS\":\n            if (predStart === null || succStart === null) return \"unknown\";\n            return succStart >= predStart + lagMs ? \"satisfied\" : \"violated\";\n        case \"FF\":\n            if (predEnd === null || succEnd === null) return \"unknown\";\n            return succEnd >= predEnd + lagMs ? \"satisfied\" : \"violated\";\n        case \"SF\":\n            if (predStart === null || succEnd === null) return \"unknown\";\n            return succEnd >= predStart + lagMs ? \"satisfied\" : \"violated\";\n        default:\n            return \"unknown\";\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZG9tYWluL3NjaGVkdWxlTWF0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFTyxNQUFNQSwwQkFBMEIsQ0FDckNDLFNBQ0FDO0lBRUEsSUFBSSxDQUFDQyxPQUFPQyxRQUFRLENBQUNILFlBQVksQ0FBQ0UsT0FBT0MsUUFBUSxDQUFDRixrQkFBa0I7UUFDbEUsT0FBTztJQUNUO0lBQ0EsT0FBT0QsVUFBVUMsa0JBQWtCO0FBQ3JDLEVBQUU7QUFFSyxNQUFNRyxzQkFBc0IsQ0FDakNDLE9BQ0FDO0lBRUEsSUFBSSxDQUFDSixPQUFPQyxRQUFRLENBQUNFLFVBQVUsQ0FBQ0gsT0FBT0MsUUFBUSxDQUFDRyxhQUFhO1FBQzNELE9BQU87SUFDVDtJQUNBLE9BQU9DLEtBQUtDLEtBQUssQ0FBQyxDQUFDSCxRQUFRQyxVQUFTLElBQUs7QUFDM0MsRUFBRTtBQUVLLE1BQU1HLDJCQUEyQixDQUFDLEVBQ3ZDQyxnQkFBZ0IsRUFDaEJDLGNBQWMsRUFDZEMsY0FBYyxFQUNkQyxZQUFZLEVBQ1pDLElBQUksRUFDSkMsVUFBVSxFQVFYO0lBQ0MsTUFBTUMsUUFBUSxDQUFDZCxPQUFPQyxRQUFRLENBQUNZLGNBQWNBLGFBQWEsS0FBSztJQUMvRCxJQUFJLENBQUNiLE9BQU9DLFFBQVEsQ0FBQ2EsUUFBUTtRQUMzQixPQUFPO0lBQ1Q7SUFDQSxNQUFNQyxZQUFZZixPQUFPQyxRQUFRLENBQUNPLG9CQUFvQkEsbUJBQW1CO0lBQ3pFLE1BQU1RLFVBQVVoQixPQUFPQyxRQUFRLENBQUNRLGtCQUFrQkEsaUJBQWlCO0lBQ25FLE1BQU1RLFlBQVlqQixPQUFPQyxRQUFRLENBQUNTLGtCQUFrQkEsaUJBQWlCO0lBQ3JFLE1BQU1RLFVBQVVsQixPQUFPQyxRQUFRLENBQUNVLGdCQUFnQkEsZUFBZTtJQUMvRCxPQUFRQztRQUNOLEtBQUs7WUFDSCxJQUFJSSxZQUFZLFFBQVFDLGNBQWMsTUFBTSxPQUFPO1lBQ25ELE9BQU9BLGFBQWFELFVBQVVGLFFBQVEsY0FBYztRQUN0RCxLQUFLO1lBQ0gsSUFBSUMsY0FBYyxRQUFRRSxjQUFjLE1BQU0sT0FBTztZQUNyRCxPQUFPQSxhQUFhRixZQUFZRCxRQUFRLGNBQWM7UUFDeEQsS0FBSztZQUNILElBQUlFLFlBQVksUUFBUUUsWUFBWSxNQUFNLE9BQU87WUFDakQsT0FBT0EsV0FBV0YsVUFBVUYsUUFBUSxjQUFjO1FBQ3BELEtBQUs7WUFDSCxJQUFJQyxjQUFjLFFBQVFHLFlBQVksTUFBTSxPQUFPO1lBQ25ELE9BQU9BLFdBQVdILFlBQVlELFFBQVEsY0FBYztRQUN0RDtZQUNFLE9BQU87SUFDWDtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWtld2hlbi8uL2xpYi9kb21haW4vc2NoZWR1bGVNYXRoLnRzP2QzMWQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHR5cGUgRGVwZW5kZW5jeVR5cGUgPSBcIkZTXCIgfCBcIlNTXCIgfCBcIkZGXCIgfCBcIlNGXCI7XG5cbmV4cG9ydCBjb25zdCBkZXJpdmVFbmRBdEZyb21EdXJhdGlvbiA9IChcbiAgc3RhcnRBdDogbnVtYmVyIHwgbnVsbCxcbiAgZHVyYXRpb25NaW51dGVzOiBudW1iZXIgfCBudWxsXG4pID0+IHtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoc3RhcnRBdCkgfHwgIU51bWJlci5pc0Zpbml0ZShkdXJhdGlvbk1pbnV0ZXMpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHN0YXJ0QXQgKyBkdXJhdGlvbk1pbnV0ZXMgKiA2MDAwMDtcbn07XG5cbmV4cG9ydCBjb25zdCBjb21wdXRlU2xhY2tNaW51dGVzID0gKFxuICBkdWVBdDogbnVtYmVyIHwgbnVsbCxcbiAgcGxhbm5lZEVuZDogbnVtYmVyIHwgbnVsbFxuKSA9PiB7XG4gIGlmICghTnVtYmVyLmlzRmluaXRlKGR1ZUF0KSB8fCAhTnVtYmVyLmlzRmluaXRlKHBsYW5uZWRFbmQpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIE1hdGgucm91bmQoKGR1ZUF0IC0gcGxhbm5lZEVuZCkgLyA2MDAwMCk7XG59O1xuXG5leHBvcnQgY29uc3QgZXZhbHVhdGVEZXBlbmRlbmN5U3RhdHVzID0gKHtcbiAgcHJlZGVjZXNzb3JTdGFydCxcbiAgcHJlZGVjZXNzb3JFbmQsXG4gIHN1Y2Nlc3NvclN0YXJ0LFxuICBzdWNjZXNzb3JFbmQsXG4gIHR5cGUsXG4gIGxhZ01pbnV0ZXMsXG59OiB7XG4gIHByZWRlY2Vzc29yU3RhcnQ6IG51bWJlciB8IG51bGw7XG4gIHByZWRlY2Vzc29yRW5kOiBudW1iZXIgfCBudWxsO1xuICBzdWNjZXNzb3JTdGFydDogbnVtYmVyIHwgbnVsbDtcbiAgc3VjY2Vzc29yRW5kOiBudW1iZXIgfCBudWxsO1xuICB0eXBlOiBEZXBlbmRlbmN5VHlwZTtcbiAgbGFnTWludXRlczogbnVtYmVyO1xufSkgPT4ge1xuICBjb25zdCBsYWdNcyA9IChOdW1iZXIuaXNGaW5pdGUobGFnTWludXRlcykgPyBsYWdNaW51dGVzIDogMCkgKiA2MDAwMDtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUobGFnTXMpKSB7XG4gICAgcmV0dXJuIFwidW5rbm93blwiIGFzIGNvbnN0O1xuICB9XG4gIGNvbnN0IHByZWRTdGFydCA9IE51bWJlci5pc0Zpbml0ZShwcmVkZWNlc3NvclN0YXJ0KSA/IHByZWRlY2Vzc29yU3RhcnQgOiBudWxsO1xuICBjb25zdCBwcmVkRW5kID0gTnVtYmVyLmlzRmluaXRlKHByZWRlY2Vzc29yRW5kKSA/IHByZWRlY2Vzc29yRW5kIDogbnVsbDtcbiAgY29uc3Qgc3VjY1N0YXJ0ID0gTnVtYmVyLmlzRmluaXRlKHN1Y2Nlc3NvclN0YXJ0KSA/IHN1Y2Nlc3NvclN0YXJ0IDogbnVsbDtcbiAgY29uc3Qgc3VjY0VuZCA9IE51bWJlci5pc0Zpbml0ZShzdWNjZXNzb3JFbmQpID8gc3VjY2Vzc29yRW5kIDogbnVsbDtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcIkZTXCI6XG4gICAgICBpZiAocHJlZEVuZCA9PT0gbnVsbCB8fCBzdWNjU3RhcnQgPT09IG51bGwpIHJldHVybiBcInVua25vd25cIjtcbiAgICAgIHJldHVybiBzdWNjU3RhcnQgPj0gcHJlZEVuZCArIGxhZ01zID8gXCJzYXRpc2ZpZWRcIiA6IFwidmlvbGF0ZWRcIjtcbiAgICBjYXNlIFwiU1NcIjpcbiAgICAgIGlmIChwcmVkU3RhcnQgPT09IG51bGwgfHwgc3VjY1N0YXJ0ID09PSBudWxsKSByZXR1cm4gXCJ1bmtub3duXCI7XG4gICAgICByZXR1cm4gc3VjY1N0YXJ0ID49IHByZWRTdGFydCArIGxhZ01zID8gXCJzYXRpc2ZpZWRcIiA6IFwidmlvbGF0ZWRcIjtcbiAgICBjYXNlIFwiRkZcIjpcbiAgICAgIGlmIChwcmVkRW5kID09PSBudWxsIHx8IHN1Y2NFbmQgPT09IG51bGwpIHJldHVybiBcInVua25vd25cIjtcbiAgICAgIHJldHVybiBzdWNjRW5kID49IHByZWRFbmQgKyBsYWdNcyA/IFwic2F0aXNmaWVkXCIgOiBcInZpb2xhdGVkXCI7XG4gICAgY2FzZSBcIlNGXCI6XG4gICAgICBpZiAocHJlZFN0YXJ0ID09PSBudWxsIHx8IHN1Y2NFbmQgPT09IG51bGwpIHJldHVybiBcInVua25vd25cIjtcbiAgICAgIHJldHVybiBzdWNjRW5kID49IHByZWRTdGFydCArIGxhZ01zID8gXCJzYXRpc2ZpZWRcIiA6IFwidmlvbGF0ZWRcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwidW5rbm93blwiO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbImRlcml2ZUVuZEF0RnJvbUR1cmF0aW9uIiwic3RhcnRBdCIsImR1cmF0aW9uTWludXRlcyIsIk51bWJlciIsImlzRmluaXRlIiwiY29tcHV0ZVNsYWNrTWludXRlcyIsImR1ZUF0IiwicGxhbm5lZEVuZCIsIk1hdGgiLCJyb3VuZCIsImV2YWx1YXRlRGVwZW5kZW5jeVN0YXR1cyIsInByZWRlY2Vzc29yU3RhcnQiLCJwcmVkZWNlc3NvckVuZCIsInN1Y2Nlc3NvclN0YXJ0Iiwic3VjY2Vzc29yRW5kIiwidHlwZSIsImxhZ01pbnV0ZXMiLCJsYWdNcyIsInByZWRTdGFydCIsInByZWRFbmQiLCJzdWNjU3RhcnQiLCJzdWNjRW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/domain/scheduleMath.ts\n");

/***/ }),

/***/ "(rsc)/./lib/views/calendarView.ts":
/*!***********************************!*\
  !*** ./lib/views/calendarView.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCalendarView: () => (/* binding */ getCalendarView)\n/* harmony export */ });\n/* harmony import */ var _db_kysely__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db/kysely */ \"(rsc)/./lib/db/kysely.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db_kysely__WEBPACK_IMPORTED_MODULE_0__]);\n_db_kysely__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst toMs = (value)=>value ? new Date(value).getTime() : null;\nconst getCalendarView = async ({ scope, windowStart, windowEnd, includeArchived = false })=>{\n    if (windowEnd <= windowStart) {\n        throw new Error(\"windowEnd must be greater than windowStart\");\n    }\n    const timeMin = new Date(windowStart).toISOString();\n    const timeMax = new Date(windowEnd).toISOString();\n    const baseItems = _db_kysely__WEBPACK_IMPORTED_MODULE_0__.db.selectFrom(\"items\").select([\n        \"items.id\",\n        \"items.title\",\n        \"items.status\",\n        \"items.due_at\",\n        \"items.parent_id\",\n        \"items.type\",\n        \"items.priority\",\n        \"items.assignee_user_id\"\n    ]).where((eb)=>includeArchived ? eb.val(true).eq(true) : eb(\"items.archived_at\", \"is\", null));\n    const scopedItems = scope.kind === \"project\" ? baseItems.where(\"items.project_id\", \"=\", scope.projectId) : scope.kind === \"user\" ? baseItems.where(\"items.assignee_user_id\", \"=\", scope.userId) : baseItems;\n    const dueRows = await scopedItems.where(\"items.due_at\", \"is not\", null).where(\"items.due_at\", \">=\", timeMin).where(\"items.due_at\", \"<\", timeMax).orderBy(\"items.due_at\", \"asc\").execute();\n    const assigneeIds = Array.from(new Set(dueRows.map((row)=>row.assignee_user_id).filter(Boolean)));\n    const userRows = assigneeIds.length ? await _db_kysely__WEBPACK_IMPORTED_MODULE_0__.db.selectFrom(\"users\").select([\n        \"id\",\n        \"name\"\n    ]).where(\"id\", \"in\", assigneeIds).execute() : [];\n    const userMap = new Map(userRows.map((row)=>[\n            row.id,\n            row.name\n        ]));\n    const items = dueRows.map((row)=>({\n            id: row.id,\n            title: row.title,\n            status: row.status,\n            due_at: toMs(row.due_at),\n            parent_id: row.parent_id,\n            item_type: row.type,\n            priority: row.priority,\n            assignee_id: row.assignee_user_id,\n            assignee_name: row.assignee_user_id ? userMap.get(row.assignee_user_id) ?? null : null\n        }));\n    const blocksQuery = _db_kysely__WEBPACK_IMPORTED_MODULE_0__.db.selectFrom(\"scheduled_blocks as b\").innerJoin(\"items as i\", \"i.id\", \"b.item_id\").select([\n        \"b.id as block_id\",\n        \"b.item_id\",\n        \"b.start_at\",\n        \"b.duration_minutes\"\n    ]).where((eb)=>includeArchived ? eb.val(true).eq(true) : eb(\"i.archived_at\", \"is\", null)).where(\"b.start_at\", \"<\", timeMax);\n    const scopedBlocks = scope.kind === \"project\" ? blocksQuery.where(\"i.project_id\", \"=\", scope.projectId) : scope.kind === \"user\" ? blocksQuery.where(\"i.assignee_user_id\", \"=\", scope.userId) : blocksQuery;\n    const blockRows = await scopedBlocks.orderBy(\"b.start_at\", \"asc\").execute();\n    const blocks = blockRows.map((row)=>{\n        const startAt = new Date(row.start_at).getTime();\n        return {\n            block_id: row.block_id,\n            item_id: row.item_id,\n            start_at: startAt,\n            duration_minutes: row.duration_minutes,\n            end_at: startAt + row.duration_minutes * 60000\n        };\n    }).filter((block)=>block.end_at > windowStart).map(({ end_at: _end, ...rest })=>rest);\n    return {\n        blocks,\n        items\n    };\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxLQUFLLFlBQ1hnQyxZQUFZckMsS0FBSyxDQUFDLGdCQUFnQixLQUFLWCxNQUFNaUIsU0FBUyxJQUN0RGpCLE1BQU1nQixJQUFJLEtBQUssU0FDYmdDLFlBQVlyQyxLQUFLLENBQUMsc0JBQXNCLEtBQUtYLE1BQU1rQixNQUFNLElBQ3pEOEI7SUFFUixNQUFNRyxZQUFZLE1BQU1ELGFBQWE5QixPQUFPLENBQUMsY0FBYyxPQUFPQyxPQUFPO0lBRXpFLE1BQU0rQixTQUEwQkQsVUFDN0J6QixHQUFHLENBQUMsQ0FBQ0M7UUFDSixNQUFNMEIsVUFBVSxJQUFJeEQsS0FBSzhCLElBQUkyQixRQUFRLEVBQUV4RCxPQUFPO1FBQzlDLE9BQU87WUFDTHlELFVBQVU1QixJQUFJNEIsUUFBUTtZQUN0QkMsU0FBUzdCLElBQUk2QixPQUFPO1lBQ3BCRixVQUFVRDtZQUNWSSxrQkFBa0I5QixJQUFJOEIsZ0JBQWdCO1lBQ3RDQyxRQUFRTCxVQUFVMUIsSUFBSThCLGdCQUFnQixHQUFHO1FBQzNDO0lBQ0YsR0FDQzVCLE1BQU0sQ0FBQyxDQUFDOEIsUUFBVUEsTUFBTUQsTUFBTSxHQUFHekQsYUFDakN5QixHQUFHLENBQUMsQ0FBQyxFQUFFZ0MsUUFBUUUsSUFBSSxFQUFFLEdBQUdDLE1BQU0sR0FBS0E7SUFFdEMsT0FBTztRQUFFVDtRQUFRZjtJQUFNO0FBQ3pCLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWtld2hlbi8uL2xpYi92aWV3cy9jYWxlbmRhclZpZXcudHM/ZTU4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYiB9IGZyb20gXCIuLi9kYi9reXNlbHlcIjtcblxuY29uc3QgdG9NcyA9ICh2YWx1ZTogc3RyaW5nIHwgbnVsbCkgPT4gKHZhbHVlID8gbmV3IERhdGUodmFsdWUpLmdldFRpbWUoKSA6IG51bGwpO1xuXG5leHBvcnQgdHlwZSBDYWxlbmRhclZpZXdTY29wZSA9XG4gIHwgeyBraW5kOiBcInByb2plY3RcIjsgcHJvamVjdElkOiBzdHJpbmcgfVxuICB8IHsga2luZDogXCJ1c2VyXCI7IHVzZXJJZDogc3RyaW5nIH1cbiAgfCB7IGtpbmQ6IFwiYWxsXCIgfTtcblxuZXhwb3J0IHR5cGUgQ2FsZW5kYXJWaWV3QXJncyA9IHtcbiAgc2NvcGU6IENhbGVuZGFyVmlld1Njb3BlO1xuICB3aW5kb3dTdGFydDogbnVtYmVyO1xuICB3aW5kb3dFbmQ6IG51bWJlcjtcbiAgaW5jbHVkZUFyY2hpdmVkPzogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIENhbGVuZGFyQmxvY2sgPSB7XG4gIGJsb2NrX2lkOiBzdHJpbmc7XG4gIGl0ZW1faWQ6IHN0cmluZztcbiAgc3RhcnRfYXQ6IG51bWJlcjtcbiAgZHVyYXRpb25fbWludXRlczogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgQ2FsZW5kYXJJdGVtID0ge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBzdGF0dXM6IHN0cmluZztcbiAgZHVlX2F0OiBudW1iZXIgfCBudWxsO1xuICBwYXJlbnRfaWQ6IHN0cmluZyB8IG51bGw7XG4gIGl0ZW1fdHlwZTogc3RyaW5nO1xuICBwcmlvcml0eTogbnVtYmVyO1xuICBhc3NpZ25lZV9pZD86IHN0cmluZyB8IG51bGw7XG4gIGFzc2lnbmVlX25hbWU/OiBzdHJpbmcgfCBudWxsO1xufTtcblxuZXhwb3J0IHR5cGUgQ2FsZW5kYXJWaWV3UmVzdWx0ID0ge1xuICBibG9ja3M6IENhbGVuZGFyQmxvY2tbXTtcbiAgaXRlbXM6IENhbGVuZGFySXRlbVtdO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENhbGVuZGFyVmlldyA9IGFzeW5jICh7XG4gIHNjb3BlLFxuICB3aW5kb3dTdGFydCxcbiAgd2luZG93RW5kLFxuICBpbmNsdWRlQXJjaGl2ZWQgPSBmYWxzZSxcbn06IENhbGVuZGFyVmlld0FyZ3MpOiBQcm9taXNlPENhbGVuZGFyVmlld1Jlc3VsdD4gPT4ge1xuICBpZiAod2luZG93RW5kIDw9IHdpbmRvd1N0YXJ0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwid2luZG93RW5kIG11c3QgYmUgZ3JlYXRlciB0aGFuIHdpbmRvd1N0YXJ0XCIpO1xuICB9XG5cbiAgY29uc3QgdGltZU1pbiA9IG5ldyBEYXRlKHdpbmRvd1N0YXJ0KS50b0lTT1N0cmluZygpO1xuICBjb25zdCB0aW1lTWF4ID0gbmV3IERhdGUod2luZG93RW5kKS50b0lTT1N0cmluZygpO1xuXG4gIGNvbnN0IGJhc2VJdGVtcyA9IGRiXG4gICAgLnNlbGVjdEZyb20oXCJpdGVtc1wiKVxuICAgIC5zZWxlY3QoW1xuICAgICAgXCJpdGVtcy5pZFwiLFxuICAgICAgXCJpdGVtcy50aXRsZVwiLFxuICAgICAgXCJpdGVtcy5zdGF0dXNcIixcbiAgICAgIFwiaXRlbXMuZHVlX2F0XCIsXG4gICAgICBcIml0ZW1zLnBhcmVudF9pZFwiLFxuICAgICAgXCJpdGVtcy50eXBlXCIsXG4gICAgICBcIml0ZW1zLnByaW9yaXR5XCIsXG4gICAgICBcIml0ZW1zLmFzc2lnbmVlX3VzZXJfaWRcIixcbiAgICBdKVxuICAgIC53aGVyZSgoZWIpID0+XG4gICAgICBpbmNsdWRlQXJjaGl2ZWRcbiAgICAgICAgPyBlYi52YWwodHJ1ZSkuZXEodHJ1ZSlcbiAgICAgICAgOiBlYihcIml0ZW1zLmFyY2hpdmVkX2F0XCIsIFwiaXNcIiwgbnVsbClcbiAgICApO1xuXG4gIGNvbnN0IHNjb3BlZEl0ZW1zID1cbiAgICBzY29wZS5raW5kID09PSBcInByb2plY3RcIlxuICAgICAgPyBiYXNlSXRlbXMud2hlcmUoXCJpdGVtcy5wcm9qZWN0X2lkXCIsIFwiPVwiLCBzY29wZS5wcm9qZWN0SWQpXG4gICAgICA6IHNjb3BlLmtpbmQgPT09IFwidXNlclwiXG4gICAgICAgID8gYmFzZUl0ZW1zLndoZXJlKFwiaXRlbXMuYXNzaWduZWVfdXNlcl9pZFwiLCBcIj1cIiwgc2NvcGUudXNlcklkKVxuICAgICAgICA6IGJhc2VJdGVtcztcblxuICBjb25zdCBkdWVSb3dzID0gYXdhaXQgc2NvcGVkSXRlbXNcbiAgICAud2hlcmUoXCJpdGVtcy5kdWVfYXRcIiwgXCJpcyBub3RcIiwgbnVsbClcbiAgICAud2hlcmUoXCJpdGVtcy5kdWVfYXRcIiwgXCI+PVwiLCB0aW1lTWluKVxuICAgIC53aGVyZShcIml0ZW1zLmR1ZV9hdFwiLCBcIjxcIiwgdGltZU1heClcbiAgICAub3JkZXJCeShcIml0ZW1zLmR1ZV9hdFwiLCBcImFzY1wiKVxuICAgIC5leGVjdXRlKCk7XG5cbiAgY29uc3QgYXNzaWduZWVJZHMgPSBBcnJheS5mcm9tKFxuICAgIG5ldyBTZXQoZHVlUm93cy5tYXAoKHJvdykgPT4gcm93LmFzc2lnbmVlX3VzZXJfaWQpLmZpbHRlcihCb29sZWFuKSlcbiAgKSBhcyBzdHJpbmdbXTtcbiAgY29uc3QgdXNlclJvd3MgPSBhc3NpZ25lZUlkcy5sZW5ndGhcbiAgICA/IGF3YWl0IGRiXG4gICAgICAgIC5zZWxlY3RGcm9tKFwidXNlcnNcIilcbiAgICAgICAgLnNlbGVjdChbXCJpZFwiLCBcIm5hbWVcIl0pXG4gICAgICAgIC53aGVyZShcImlkXCIsIFwiaW5cIiwgYXNzaWduZWVJZHMpXG4gICAgICAgIC5leGVjdXRlKClcbiAgICA6IFtdO1xuICBjb25zdCB1c2VyTWFwID0gbmV3IE1hcCh1c2VyUm93cy5tYXAoKHJvdykgPT4gW3Jvdy5pZCwgcm93Lm5hbWVdKSk7XG5cbiAgY29uc3QgaXRlbXM6IENhbGVuZGFySXRlbVtdID0gZHVlUm93cy5tYXAoKHJvdykgPT4gKHtcbiAgICBpZDogcm93LmlkLFxuICAgIHRpdGxlOiByb3cudGl0bGUsXG4gICAgc3RhdHVzOiByb3cuc3RhdHVzLFxuICAgIGR1ZV9hdDogdG9Ncyhyb3cuZHVlX2F0KSxcbiAgICBwYXJlbnRfaWQ6IHJvdy5wYXJlbnRfaWQsXG4gICAgaXRlbV90eXBlOiByb3cudHlwZSxcbiAgICBwcmlvcml0eTogcm93LnByaW9yaXR5LFxuICAgIGFzc2lnbmVlX2lkOiByb3cuYXNzaWduZWVfdXNlcl9pZCxcbiAgICBhc3NpZ25lZV9uYW1lOiByb3cuYXNzaWduZWVfdXNlcl9pZFxuICAgICAgPyB1c2VyTWFwLmdldChyb3cuYXNzaWduZWVfdXNlcl9pZCkgPz8gbnVsbFxuICAgICAgOiBudWxsLFxuICB9KSk7XG5cbiAgY29uc3QgYmxvY2tzUXVlcnkgPSBkYlxuICAgIC5zZWxlY3RGcm9tKFwic2NoZWR1bGVkX2Jsb2NrcyBhcyBiXCIpXG4gICAgLmlubmVySm9pbihcIml0ZW1zIGFzIGlcIiwgXCJpLmlkXCIsIFwiYi5pdGVtX2lkXCIpXG4gICAgLnNlbGVjdChbXG4gICAgICBcImIuaWQgYXMgYmxvY2tfaWRcIixcbiAgICAgIFwiYi5pdGVtX2lkXCIsXG4gICAgICBcImIuc3RhcnRfYXRcIixcbiAgICAgIFwiYi5kdXJhdGlvbl9taW51dGVzXCIsXG4gICAgXSlcbiAgICAud2hlcmUoKGViKSA9PlxuICAgICAgaW5jbHVkZUFyY2hpdmVkXG4gICAgICAgID8gZWIudmFsKHRydWUpLmVxKHRydWUpXG4gICAgICAgIDogZWIoXCJpLmFyY2hpdmVkX2F0XCIsIFwiaXNcIiwgbnVsbClcbiAgICApXG4gICAgLndoZXJlKFwiYi5zdGFydF9hdFwiLCBcIjxcIiwgdGltZU1heCk7XG5cbiAgY29uc3Qgc2NvcGVkQmxvY2tzID1cbiAgICBzY29wZS5raW5kID09PSBcInByb2plY3RcIlxuICAgICAgPyBibG9ja3NRdWVyeS53aGVyZShcImkucHJvamVjdF9pZFwiLCBcIj1cIiwgc2NvcGUucHJvamVjdElkKVxuICAgICAgOiBzY29wZS5raW5kID09PSBcInVzZXJcIlxuICAgICAgICA/IGJsb2Nrc1F1ZXJ5LndoZXJlKFwiaS5hc3NpZ25lZV91c2VyX2lkXCIsIFwiPVwiLCBzY29wZS51c2VySWQpXG4gICAgICAgIDogYmxvY2tzUXVlcnk7XG5cbiAgY29uc3QgYmxvY2tSb3dzID0gYXdhaXQgc2NvcGVkQmxvY2tzLm9yZGVyQnkoXCJiLnN0YXJ0X2F0XCIsIFwiYXNjXCIpLmV4ZWN1dGUoKTtcblxuICBjb25zdCBibG9ja3M6IENhbGVuZGFyQmxvY2tbXSA9IGJsb2NrUm93c1xuICAgIC5tYXAoKHJvdykgPT4ge1xuICAgICAgY29uc3Qgc3RhcnRBdCA9IG5ldyBEYXRlKHJvdy5zdGFydF9hdCkuZ2V0VGltZSgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYmxvY2tfaWQ6IHJvdy5ibG9ja19pZCxcbiAgICAgICAgaXRlbV9pZDogcm93Lml0ZW1faWQsXG4gICAgICAgIHN0YXJ0X2F0OiBzdGFydEF0LFxuICAgICAgICBkdXJhdGlvbl9taW51dGVzOiByb3cuZHVyYXRpb25fbWludXRlcyxcbiAgICAgICAgZW5kX2F0OiBzdGFydEF0ICsgcm93LmR1cmF0aW9uX21pbnV0ZXMgKiA2MDAwMCxcbiAgICAgIH07XG4gICAgfSlcbiAgICAuZmlsdGVyKChibG9jaykgPT4gYmxvY2suZW5kX2F0ID4gd2luZG93U3RhcnQpXG4gICAgLm1hcCgoeyBlbmRfYXQ6IF9lbmQsIC4uLnJlc3QgfSkgPT4gcmVzdCk7XG5cbiAgcmV0dXJuIHsgYmxvY2tzLCBpdGVtcyB9O1xufTtcbiJdLCJuYW1lcyI6WyJkYiIsInRvTXMiLCJ2YWx1ZSIsIkRhdGUiLCJnZXRUaW1lIiwiZ2V0Q2FsZW5kYXJWaWV3Iiwic2NvcGUiLCJ3aW5kb3dTdGFydCIsIndpbmRvd0VuZCIsImluY2x1ZGVBcmNoaXZlZCIsIkVycm9yIiwidGltZU1pbiIsInRvSVNPU3RyaW5nIiwidGltZU1heCIsImJhc2VJdGVtcyIsInNlbGVjdEZyb20iLCJzZWxlY3QiLCJ3aGVyZSIsImViIiwidmFsIiwiZXEiLCJzY29wZWRJdGVtcyIsImtpbmQiLCJwcm9qZWN0SWQiLCJ1c2VySWQiLCJkdWVSb3dzIiwib3JkZXJCeSIsImV4ZWN1dGUiLCJhc3NpZ25lZUlkcyIsIkFycmF5IiwiZnJvbSIsIlNldCIsIm1hcCIsInJvdyIsImFzc2lnbmVlX3VzZXJfaWQiLCJmaWx0ZXIiLCJCb29sZWFuIiwidXNlclJvd3MiLCJsZW5ndGgiLCJ1c2VyTWFwIiwiTWFwIiwiaWQiLCJuYW1lIiwiaXRlbXMiLCJ0aXRsZSIsInN0YXR1cyIsImR1ZV9hdCIsInBhcmVudF9pZCIsIml0ZW1fdHlwZSIsInR5cGUiLCJwcmlvcml0eSIsImFzc2lnbmVlX2lkIiwiYXNzaWduZWVfbmFtZSIsImdldCIsImJsb2Nrc1F1ZXJ5IiwiaW5uZXJKb2luIiwic2NvcGVkQmxvY2tzIiwiYmxvY2tSb3dzIiwiYmxvY2tzIiwic3RhcnRBdCIsInN0YXJ0X2F0IiwiYmxvY2tfaWQiLCJpdGVtX2lkIiwiZHVyYXRpb25fbWludXRlcyIsImVuZF9hdCIsImJsb2NrIiwiX2VuZCIsInJlc3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/views/calendarView.ts\n");

/***/ }),

/***/ "(rsc)/./lib/views/listView.ts":
/*!*******************************!*\
  !*** ./lib/views/listView.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getListView: () => (/* binding */ getListView)\n/* harmony export */ });\n/* harmony import */ var _db_kysely__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db/kysely */ \"(rsc)/./lib/db/kysely.ts\");\n/* harmony import */ var _domain_scheduleMath__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/scheduleMath */ \"(rsc)/./lib/domain/scheduleMath.ts\");\n/* harmony import */ var _domain_rollup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../domain/rollup */ \"(rsc)/./lib/domain/rollup.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db_kysely__WEBPACK_IMPORTED_MODULE_0__]);\n_db_kysely__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst toMs = (value)=>value ? new Date(value).getTime() : null;\nconst resolveArchiveFilter = (includeArchived, archiveFilter)=>{\n    if (archiveFilter) return archiveFilter;\n    return includeArchived ? \"all\" : \"active\";\n};\nconst computeDepthMap = (items)=>{\n    const map = new Map();\n    for (const item of items){\n        map.set(item.id, {\n            parent_id: item.parent_id\n        });\n    }\n    const depthMap = new Map();\n    const compute = (id)=>{\n        if (depthMap.has(id)) {\n            return depthMap.get(id);\n        }\n        const entry = map.get(id);\n        if (!entry?.parent_id || !map.has(entry.parent_id)) {\n            depthMap.set(id, 0);\n            return 0;\n        }\n        const depth = compute(entry.parent_id) + 1;\n        depthMap.set(id, depth);\n        return depth;\n    };\n    for (const id of map.keys()){\n        compute(id);\n    }\n    return depthMap;\n};\nconst computeDueMetrics = (dueAt, now, status)=>{\n    if (dueAt === null) {\n        return {\n            is_overdue: false\n        };\n    }\n    const diffMs = dueAt - now;\n    const isOverdue = diffMs < 0 && status !== \"done\" && status !== \"canceled\";\n    return {\n        is_overdue: isOverdue\n    };\n};\nconst getListView = async ({ scope, includeArchived, includeCompleted = true, archiveFilter })=>{\n    const archiveMode = resolveArchiveFilter(includeArchived, archiveFilter);\n    const now = Date.now();\n    let query = _db_kysely__WEBPACK_IMPORTED_MODULE_0__.db.selectFrom(\"items\").select([\n        \"items.id\",\n        \"items.type\",\n        \"items.title\",\n        \"items.parent_id\",\n        \"items.status\",\n        \"items.priority\",\n        \"items.due_at\",\n        \"items.estimate_mode\",\n        \"items.estimate_minutes\",\n        \"items.notes\",\n        \"items.updated_at\",\n        \"items.sequence_rank\",\n        \"items.completed_at\",\n        \"items.archived_at\",\n        \"items.project_id\",\n        \"items.assignee_user_id\",\n        \"items.health\"\n    ]);\n    if (scope.kind === \"project\") {\n        query = query.where(\"items.project_id\", \"=\", scope.projectId);\n    } else if (scope.kind === \"user\") {\n        query = query.where(\"items.assignee_user_id\", \"=\", scope.userId);\n    }\n    if (archiveMode === \"active\") {\n        query = query.where(\"items.archived_at\", \"is\", null);\n    } else if (archiveMode === \"archived\") {\n        query = query.where(\"items.archived_at\", \"is not\", null);\n    }\n    if (!includeCompleted) {\n        query = query.where(\"items.status\", \"not in\", [\n            \"done\",\n            \"canceled\"\n        ]);\n    }\n    const rows = await query.orderBy(\"items.sequence_rank\", \"asc\").orderBy(\"items.due_at\", \"asc\").orderBy(\"items.title\", \"asc\").execute();\n    if (rows.length === 0) {\n        return [];\n    }\n    const ids = rows.map((row)=>row.id);\n    const depthMap = computeDepthMap(rows.map((row)=>({\n            id: row.id,\n            parent_id: row.parent_id\n        })));\n    const itemMap = new Map(rows.map((row)=>[\n            row.id,\n            row\n        ]));\n    const blockRows = await _db_kysely__WEBPACK_IMPORTED_MODULE_0__.db.selectFrom(\"scheduled_blocks\").select([\n        \"id\",\n        \"item_id\",\n        \"start_at\",\n        \"duration_minutes\"\n    ]).where(\"item_id\", \"in\", ids).execute();\n    const blocksMap = new Map();\n    const scheduleSummaryMap = new Map();\n    for (const row of blockRows){\n        const startAt = new Date(row.start_at).getTime();\n        const endAt = (0,_domain_scheduleMath__WEBPACK_IMPORTED_MODULE_1__.deriveEndAtFromDuration)(startAt, row.duration_minutes) ?? startAt;\n        const block = {\n            block_id: row.id,\n            item_id: row.item_id,\n            start_at: startAt,\n            duration_minutes: row.duration_minutes,\n            end_at_derived: endAt\n        };\n        const list = blocksMap.get(row.item_id) ?? [];\n        list.push(block);\n        blocksMap.set(row.item_id, list);\n        const summary = scheduleSummaryMap.get(row.item_id) ?? {\n            count: 0,\n            total: 0,\n            start: null,\n            end: null\n        };\n        summary.count += 1;\n        summary.total += row.duration_minutes;\n        summary.start = summary.start === null ? startAt : Math.min(summary.start, startAt);\n        summary.end = summary.end === null ? endAt : Math.max(summary.end, endAt);\n        scheduleSummaryMap.set(row.item_id, summary);\n    }\n    const dependencyRows = await _db_kysely__WEBPACK_IMPORTED_MODULE_0__.db.selectFrom(\"dependencies\").select([\n        \"id\",\n        \"item_id\",\n        \"depends_on_id\",\n        \"type\",\n        \"lag_minutes\"\n    ]).where((eb)=>eb.or([\n            eb(\"item_id\", \"in\", ids),\n            eb(\"depends_on_id\", \"in\", ids)\n        ])).execute();\n    const dependsOnMap = new Map();\n    const depsInMap = new Map();\n    const depsOutMap = new Map();\n    for (const row of dependencyRows){\n        const edgeId = `${row.item_id}->${row.depends_on_id}`;\n        const type = (row.type ?? \"FS\").toUpperCase();\n        const lag = Number.isFinite(row.lag_minutes) ? row.lag_minutes : 0;\n        const inList = depsInMap.get(row.item_id) ?? [];\n        inList.push({\n            edge_id: edgeId,\n            predecessor_id: row.depends_on_id,\n            type,\n            lag_minutes: lag\n        });\n        depsInMap.set(row.item_id, inList);\n        const outList = depsOutMap.get(row.depends_on_id) ?? [];\n        outList.push({\n            edge_id: edgeId,\n            successor_id: row.item_id,\n            type,\n            lag_minutes: lag\n        });\n        depsOutMap.set(row.depends_on_id, outList);\n        const dependsList = dependsOnMap.get(row.item_id) ?? [];\n        dependsList.push(row.depends_on_id);\n        dependsOnMap.set(row.item_id, dependsList);\n    }\n    const blockerRows = await _db_kysely__WEBPACK_IMPORTED_MODULE_0__.db.selectFrom(\"blockers\").select([\n        \"item_id\"\n    ]).where(\"item_id\", \"in\", ids).where(\"cleared_at\", \"is\", null).execute();\n    const blockerCountMap = new Map();\n    for (const row of blockerRows){\n        blockerCountMap.set(row.item_id, (blockerCountMap.get(row.item_id) ?? 0) + 1);\n    }\n    const timeRows = await _db_kysely__WEBPACK_IMPORTED_MODULE_0__.db.selectFrom(\"time_entries\").select([\n        \"item_id\",\n        _db_kysely__WEBPACK_IMPORTED_MODULE_0__.db.fn.sum(\"duration_minutes\").as(\"total\")\n    ]).where(\"item_id\", \"in\", ids).groupBy(\"item_id\").execute();\n    const timeMap = new Map();\n    for (const row of timeRows){\n        const total = row.total ?? 0;\n        timeMap.set(row.item_id, Number(total));\n    }\n    const assigneeIds = Array.from(new Set(rows.map((row)=>row.assignee_user_id).filter(Boolean)));\n    const assigneeRows = assigneeIds.length ? await _db_kysely__WEBPACK_IMPORTED_MODULE_0__.db.selectFrom(\"users\").select([\n        \"id\",\n        \"name\"\n    ]).where(\"id\", \"in\", assigneeIds).execute() : [];\n    const assigneeMap = new Map(assigneeRows.map((row)=>[\n            row.id,\n            row.name\n        ]));\n    const unmetDepCountMap = new Map();\n    for (const row of dependencyRows){\n        const predecessor = itemMap.get(row.depends_on_id);\n        if (!predecessor || predecessor.status !== \"done\") {\n            unmetDepCountMap.set(row.item_id, (unmetDepCountMap.get(row.item_id) ?? 0) + 1);\n        }\n    }\n    const blockedMap = new Map();\n    const dueMetricsMap = new Map();\n    for (const row of rows){\n        const blockerCount = blockerCountMap.get(row.id) ?? 0;\n        const unmetDeps = unmetDepCountMap.get(row.id) ?? 0;\n        const blocked = row.status === \"blocked\" || blockerCount > 0 || unmetDeps > 0;\n        blockedMap.set(row.id, {\n            is_blocked: blocked\n        });\n        dueMetricsMap.set(row.id, computeDueMetrics(toMs(row.due_at), now, row.status));\n    }\n    const rollupMap = (0,_domain_rollup__WEBPACK_IMPORTED_MODULE_2__.computeRollupTotals)(rows.map((row)=>({\n            id: row.id,\n            parent_id: row.parent_id,\n            estimate_mode: row.estimate_mode,\n            estimate_minutes: row.estimate_minutes\n        })), new Map(Array.from(scheduleSummaryMap.entries()).map(([id, summary])=>[\n            id,\n            {\n                start: summary.start,\n                end: summary.end\n            }\n        ])), blockedMap, dueMetricsMap, timeMap);\n    const result = rows.map((row)=>{\n        const scheduleSummary = scheduleSummaryMap.get(row.id) ?? {\n            count: 0,\n            total: 0,\n            start: null,\n            end: null\n        };\n        const depsIn = depsInMap.get(row.id) ?? [];\n        const depsOut = depsOutMap.get(row.id) ?? [];\n        const scheduleStart = scheduleSummary.start;\n        const scheduleEnd = scheduleSummary.end;\n        const slackMinutes = (0,_domain_scheduleMath__WEBPACK_IMPORTED_MODULE_1__.computeSlackMinutes)(toMs(row.due_at), scheduleEnd);\n        const rollupTotals = rollupMap.get(row.id);\n        const blockerCount = blockerCountMap.get(row.id) ?? 0;\n        const unmetDeps = unmetDepCountMap.get(row.id) ?? 0;\n        const blockedBy = depsIn.map((dep)=>{\n            const meta = itemMap.get(dep.predecessor_id ?? \"\");\n            const predecessorSchedule = scheduleSummaryMap.get(dep.predecessor_id ?? \"\") ?? {\n                start: null,\n                end: null\n            };\n            return {\n                item_id: dep.predecessor_id ?? \"\",\n                title: meta?.title ?? dep.predecessor_id ?? \"\",\n                type: dep.type,\n                lag_minutes: dep.lag_minutes,\n                status: (0,_domain_scheduleMath__WEBPACK_IMPORTED_MODULE_1__.evaluateDependencyStatus)({\n                    predecessorStart: predecessorSchedule.start,\n                    predecessorEnd: predecessorSchedule.end,\n                    successorStart: scheduleStart,\n                    successorEnd: scheduleEnd,\n                    type: dep.type,\n                    lagMinutes: dep.lag_minutes\n                })\n            };\n        });\n        const blocking = depsOut.map((dep)=>{\n            const meta = itemMap.get(dep.successor_id ?? \"\");\n            const successorSchedule = scheduleSummaryMap.get(dep.successor_id ?? \"\") ?? {\n                start: null,\n                end: null\n            };\n            return {\n                item_id: dep.successor_id ?? \"\",\n                title: meta?.title ?? dep.successor_id ?? \"\",\n                type: dep.type,\n                lag_minutes: dep.lag_minutes,\n                status: (0,_domain_scheduleMath__WEBPACK_IMPORTED_MODULE_1__.evaluateDependencyStatus)({\n                    predecessorStart: scheduleStart,\n                    predecessorEnd: scheduleEnd,\n                    successorStart: successorSchedule.start,\n                    successorEnd: successorSchedule.end,\n                    type: dep.type,\n                    lagMinutes: dep.lag_minutes\n                })\n            };\n        });\n        const assigneeId = row.assignee_user_id;\n        const assigneeName = assigneeId ? assigneeMap.get(assigneeId) ?? null : null;\n        return {\n            id: row.id,\n            type: row.type,\n            item_type: row.type,\n            title: row.title,\n            parent_id: row.parent_id,\n            depth: depthMap.get(row.id) ?? 0,\n            project_id: row.project_id,\n            sort_order: row.sequence_rank ?? 0,\n            due_at: toMs(row.due_at),\n            archived_at: toMs(row.archived_at),\n            estimate_mode: row.estimate_mode,\n            status: row.status,\n            priority: row.priority,\n            estimate_minutes: row.estimate_minutes,\n            rollup_estimate_minutes: rollupTotals?.totalEstimate ?? row.estimate_minutes,\n            rollup_actual_minutes: rollupTotals?.totalActual ?? timeMap.get(row.id) ?? 0,\n            rollup_remaining_minutes: rollupTotals ? Math.max(0, rollupTotals.totalEstimate - rollupTotals.totalActual) : Math.max(0, row.estimate_minutes - (timeMap.get(row.id) ?? 0)),\n            rollup_start_at: rollupTotals?.rollupStartAt ?? null,\n            rollup_end_at: rollupTotals?.rollupEndAt ?? null,\n            rollup_blocked_count: rollupTotals?.rollupBlockedCount ?? 0,\n            rollup_overdue_count: rollupTotals?.rollupOverdueCount ?? 0,\n            schedule: {\n                has_blocks: scheduleSummary.count > 0,\n                scheduled_minutes_total: scheduleSummary.total,\n                schedule_start_at: scheduleSummary.start,\n                schedule_end_at: scheduleSummary.end\n            },\n            depends_on: dependsOnMap.get(row.id) ?? [],\n            notes: row.notes,\n            blocked: {\n                is_blocked: row.status === \"blocked\" || blockerCount > 0 || unmetDeps > 0,\n                blocked_by_deps: unmetDeps > 0,\n                blocked_by_blockers: blockerCount > 0,\n                active_blocker_count: blockerCount,\n                unmet_dependency_count: unmetDeps\n            },\n            assignees: assigneeId ? [\n                {\n                    id: assigneeId,\n                    name: assigneeName\n                }\n            ] : [],\n            assignee_id: assigneeId,\n            assignee_name: assigneeName,\n            tags: [],\n            health: row.health ?? \"unknown\",\n            completed_on: toMs(row.completed_at),\n            actual_minutes: timeMap.get(row.id) ?? null,\n            scheduled_blocks: blocksMap.get(row.id) ?? [],\n            dependencies_out: depsOut,\n            dependencies_in: depsIn,\n            blocked_by: blockedBy,\n            blocking,\n            slack_minutes: slackMinutes\n        };\n    });\n    return result;\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZSxLQUFLQyxZQUFZO2dCQUN4RXdELGlCQUFpQnhELFlBQVk7Z0JBQzdCeUQscUJBQXFCMUQsZUFBZTtnQkFDcEMyRCxzQkFBc0IzRDtnQkFDdEI0RCx3QkFBd0IzRDtZQUMxQjtZQUNBNEQsV0FBV2hDLGFBQ1A7Z0JBQUM7b0JBQUU5SCxJQUFJOEg7b0JBQVlsQyxNQUFNbUM7Z0JBQWE7YUFBRSxHQUN4QyxFQUFFO1lBQ05nQyxhQUFhakM7WUFDYmtDLGVBQWVqQztZQUNma0MsTUFBTSxFQUFFO1lBQ1JDLFFBQVFsSSxJQUFJa0ksTUFBTSxJQUFJO1lBQ3RCQyxjQUFjaEwsS0FBSzZDLElBQUlvSSxZQUFZO1lBQ25DQyxnQkFBZ0JuRixRQUFRN0UsR0FBRyxDQUFDMkIsSUFBSWhDLEVBQUUsS0FBSztZQUN2Q3NLLGtCQUFrQm5JLFVBQVU5QixHQUFHLENBQUMyQixJQUFJaEMsRUFBRSxLQUFLLEVBQUU7WUFDN0N1SyxrQkFBa0IxRDtZQUNsQjJELGlCQUFpQjVEO1lBQ2pCNkQsWUFBWXZEO1lBQ1pVO1lBQ0E4QyxlQUFlMUQ7UUFDakI7SUFDRjtJQUVBLE9BQU9OO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2V3aGVuLy4vbGliL3ZpZXdzL2xpc3RWaWV3LnRzPzBhM2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIgfSBmcm9tIFwiLi4vZGIva3lzZWx5XCI7XG5pbXBvcnQge1xuICBjb21wdXRlU2xhY2tNaW51dGVzLFxuICBkZXJpdmVFbmRBdEZyb21EdXJhdGlvbixcbiAgZXZhbHVhdGVEZXBlbmRlbmN5U3RhdHVzLFxuICB0eXBlIERlcGVuZGVuY3lUeXBlLFxufSBmcm9tIFwiLi4vZG9tYWluL3NjaGVkdWxlTWF0aFwiO1xuaW1wb3J0IHsgY29tcHV0ZVJvbGx1cFRvdGFscyB9IGZyb20gXCIuLi9kb21haW4vcm9sbHVwXCI7XG5cbmNvbnN0IHRvTXMgPSAodmFsdWU6IHN0cmluZyB8IG51bGwpID0+ICh2YWx1ZSA/IG5ldyBEYXRlKHZhbHVlKS5nZXRUaW1lKCkgOiBudWxsKTtcblxuZXhwb3J0IHR5cGUgTGlzdFZpZXdTY29wZSA9XG4gIHwgeyBraW5kOiBcInByb2plY3RcIjsgcHJvamVjdElkOiBzdHJpbmcgfVxuICB8IHsga2luZDogXCJ1c2VyXCI7IHVzZXJJZDogc3RyaW5nIH1cbiAgfCB7IGtpbmQ6IFwiYWxsXCIgfTtcblxuZXhwb3J0IHR5cGUgTGlzdFZpZXdBcmdzID0ge1xuICBzY29wZTogTGlzdFZpZXdTY29wZTtcbiAgaW5jbHVkZUFyY2hpdmVkPzogYm9vbGVhbjtcbiAgaW5jbHVkZUNvbXBsZXRlZD86IGJvb2xlYW47XG4gIGFyY2hpdmVGaWx0ZXI/OiBcImFsbFwiIHwgXCJhY3RpdmVcIiB8IFwiYXJjaGl2ZWRcIjtcbn07XG5cbmV4cG9ydCB0eXBlIFNjaGVkdWxlZEJsb2NrTGl0ZSA9IHtcbiAgYmxvY2tfaWQ6IHN0cmluZztcbiAgaXRlbV9pZDogc3RyaW5nO1xuICBzdGFydF9hdDogbnVtYmVyO1xuICBkdXJhdGlvbl9taW51dGVzOiBudW1iZXI7XG4gIGVuZF9hdF9kZXJpdmVkOiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBEZXBlbmRlbmN5RWRnZUxpdGUgPSB7XG4gIGVkZ2VfaWQ6IHN0cmluZztcbiAgcHJlZGVjZXNzb3JfaWQ/OiBzdHJpbmc7XG4gIHN1Y2Nlc3Nvcl9pZD86IHN0cmluZztcbiAgdHlwZTogRGVwZW5kZW5jeVR5cGU7XG4gIGxhZ19taW51dGVzOiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBEZXBlbmRlbmN5UHJvamVjdGlvbkxpdGUgPSB7XG4gIGl0ZW1faWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgdHlwZTogRGVwZW5kZW5jeVR5cGU7XG4gIGxhZ19taW51dGVzOiBudW1iZXI7XG4gIHN0YXR1czogXCJzYXRpc2ZpZWRcIiB8IFwidmlvbGF0ZWRcIiB8IFwidW5rbm93blwiO1xufTtcblxuZXhwb3J0IHR5cGUgTGlzdFZpZXdJdGVtID0ge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBcInByb2plY3RcIiB8IFwibWlsZXN0b25lXCIgfCBcInRhc2tcIiB8IFwic3VidGFza1wiO1xuICBpdGVtX3R5cGU/OiBcInByb2plY3RcIiB8IFwibWlsZXN0b25lXCIgfCBcInRhc2tcIiB8IFwic3VidGFza1wiO1xuICB0aXRsZTogc3RyaW5nO1xuICBwYXJlbnRfaWQ6IHN0cmluZyB8IG51bGw7XG4gIGRlcHRoOiBudW1iZXI7XG4gIHByb2plY3RfaWQ6IHN0cmluZztcbiAgc29ydF9vcmRlcjogbnVtYmVyO1xuICBkdWVfYXQ6IG51bWJlciB8IG51bGw7XG4gIGFyY2hpdmVkX2F0PzogbnVtYmVyIHwgbnVsbDtcbiAgZXN0aW1hdGVfbW9kZT86IHN0cmluZztcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIHByaW9yaXR5OiBudW1iZXI7XG4gIGVzdGltYXRlX21pbnV0ZXM6IG51bWJlcjtcbiAgcm9sbHVwX2VzdGltYXRlX21pbnV0ZXM/OiBudW1iZXI7XG4gIHJvbGx1cF9hY3R1YWxfbWludXRlcz86IG51bWJlcjtcbiAgcm9sbHVwX3JlbWFpbmluZ19taW51dGVzPzogbnVtYmVyO1xuICByb2xsdXBfc3RhcnRfYXQ/OiBudW1iZXIgfCBudWxsO1xuICByb2xsdXBfZW5kX2F0PzogbnVtYmVyIHwgbnVsbDtcbiAgcm9sbHVwX2Jsb2NrZWRfY291bnQ/OiBudW1iZXI7XG4gIHJvbGx1cF9vdmVyZHVlX2NvdW50PzogbnVtYmVyO1xuICBzY2hlZHVsZToge1xuICAgIGhhc19ibG9ja3M6IGJvb2xlYW47XG4gICAgc2NoZWR1bGVkX21pbnV0ZXNfdG90YWw6IG51bWJlcjtcbiAgICBzY2hlZHVsZV9zdGFydF9hdDogbnVtYmVyIHwgbnVsbDtcbiAgICBzY2hlZHVsZV9lbmRfYXQ6IG51bWJlciB8IG51bGw7XG4gIH07XG4gIGRlcGVuZHNfb246IHN0cmluZ1tdO1xuICBub3Rlczogc3RyaW5nIHwgbnVsbDtcbiAgYmxvY2tlZDoge1xuICAgIGlzX2Jsb2NrZWQ6IGJvb2xlYW47XG4gICAgYmxvY2tlZF9ieV9kZXBzOiBib29sZWFuO1xuICAgIGJsb2NrZWRfYnlfYmxvY2tlcnM6IGJvb2xlYW47XG4gICAgYWN0aXZlX2Jsb2NrZXJfY291bnQ6IG51bWJlcjtcbiAgICB1bm1ldF9kZXBlbmRlbmN5X2NvdW50OiBudW1iZXI7XG4gIH07XG4gIGFzc2lnbmVlczogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfCBudWxsIH1bXTtcbiAgYXNzaWduZWVfaWQ/OiBzdHJpbmcgfCBudWxsO1xuICBhc3NpZ25lZV9uYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgdGFnczogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfVtdO1xuICBoZWFsdGg6IHN0cmluZztcbiAgaGVhbHRoX21vZGU/OiBzdHJpbmc7XG4gIGNvbXBsZXRlZF9vbjogbnVtYmVyIHwgbnVsbDtcbiAgYWN0dWFsX21pbnV0ZXM6IG51bWJlciB8IG51bGw7XG4gIHNjaGVkdWxlZF9ibG9ja3M6IFNjaGVkdWxlZEJsb2NrTGl0ZVtdO1xuICBkZXBlbmRlbmNpZXNfb3V0OiBEZXBlbmRlbmN5RWRnZUxpdGVbXTtcbiAgZGVwZW5kZW5jaWVzX2luOiBEZXBlbmRlbmN5RWRnZUxpdGVbXTtcbiAgYmxvY2tlZF9ieTogRGVwZW5kZW5jeVByb2plY3Rpb25MaXRlW107XG4gIGJsb2NraW5nOiBEZXBlbmRlbmN5UHJvamVjdGlvbkxpdGVbXTtcbiAgc2xhY2tfbWludXRlczogbnVtYmVyIHwgbnVsbDtcbn07XG5cbmNvbnN0IHJlc29sdmVBcmNoaXZlRmlsdGVyID0gKFxuICBpbmNsdWRlQXJjaGl2ZWQ/OiBib29sZWFuLFxuICBhcmNoaXZlRmlsdGVyPzogXCJhbGxcIiB8IFwiYWN0aXZlXCIgfCBcImFyY2hpdmVkXCJcbikgPT4ge1xuICBpZiAoYXJjaGl2ZUZpbHRlcikgcmV0dXJuIGFyY2hpdmVGaWx0ZXI7XG4gIHJldHVybiBpbmNsdWRlQXJjaGl2ZWQgPyBcImFsbFwiIDogXCJhY3RpdmVcIjtcbn07XG5cbmNvbnN0IGNvbXB1dGVEZXB0aE1hcCA9IChpdGVtczogQXJyYXk8eyBpZDogc3RyaW5nOyBwYXJlbnRfaWQ6IHN0cmluZyB8IG51bGwgfT4pID0+IHtcbiAgY29uc3QgbWFwID0gbmV3IE1hcDxzdHJpbmcsIHsgcGFyZW50X2lkOiBzdHJpbmcgfCBudWxsIH0+KCk7XG4gIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgIG1hcC5zZXQoaXRlbS5pZCwgeyBwYXJlbnRfaWQ6IGl0ZW0ucGFyZW50X2lkIH0pO1xuICB9XG4gIGNvbnN0IGRlcHRoTWFwID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgY29uc3QgY29tcHV0ZSA9IChpZDogc3RyaW5nKTogbnVtYmVyID0+IHtcbiAgICBpZiAoZGVwdGhNYXAuaGFzKGlkKSkge1xuICAgICAgcmV0dXJuIGRlcHRoTWFwLmdldChpZCkhO1xuICAgIH1cbiAgICBjb25zdCBlbnRyeSA9IG1hcC5nZXQoaWQpO1xuICAgIGlmICghZW50cnk/LnBhcmVudF9pZCB8fCAhbWFwLmhhcyhlbnRyeS5wYXJlbnRfaWQpKSB7XG4gICAgICBkZXB0aE1hcC5zZXQoaWQsIDApO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGNvbnN0IGRlcHRoID0gY29tcHV0ZShlbnRyeS5wYXJlbnRfaWQpICsgMTtcbiAgICBkZXB0aE1hcC5zZXQoaWQsIGRlcHRoKTtcbiAgICByZXR1cm4gZGVwdGg7XG4gIH07XG4gIGZvciAoY29uc3QgaWQgb2YgbWFwLmtleXMoKSkge1xuICAgIGNvbXB1dGUoaWQpO1xuICB9XG4gIHJldHVybiBkZXB0aE1hcDtcbn07XG5cbmNvbnN0IGNvbXB1dGVEdWVNZXRyaWNzID0gKGR1ZUF0OiBudW1iZXIgfCBudWxsLCBub3c6IG51bWJlciwgc3RhdHVzOiBzdHJpbmcpID0+IHtcbiAgaWYgKGR1ZUF0ID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHsgaXNfb3ZlcmR1ZTogZmFsc2UgfTtcbiAgfVxuICBjb25zdCBkaWZmTXMgPSBkdWVBdCAtIG5vdztcbiAgY29uc3QgaXNPdmVyZHVlID0gZGlmZk1zIDwgMCAmJiBzdGF0dXMgIT09IFwiZG9uZVwiICYmIHN0YXR1cyAhPT0gXCJjYW5jZWxlZFwiO1xuICByZXR1cm4geyBpc19vdmVyZHVlOiBpc092ZXJkdWUgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRMaXN0VmlldyA9IGFzeW5jICh7XG4gIHNjb3BlLFxuICBpbmNsdWRlQXJjaGl2ZWQsXG4gIGluY2x1ZGVDb21wbGV0ZWQgPSB0cnVlLFxuICBhcmNoaXZlRmlsdGVyLFxufTogTGlzdFZpZXdBcmdzKTogUHJvbWlzZTxMaXN0Vmlld0l0ZW1bXT4gPT4ge1xuICBjb25zdCBhcmNoaXZlTW9kZSA9IHJlc29sdmVBcmNoaXZlRmlsdGVyKGluY2x1ZGVBcmNoaXZlZCwgYXJjaGl2ZUZpbHRlcik7XG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgbGV0IHF1ZXJ5ID0gZGJcbiAgICAuc2VsZWN0RnJvbShcIml0ZW1zXCIpXG4gICAgLnNlbGVjdChbXG4gICAgICBcIml0ZW1zLmlkXCIsXG4gICAgICBcIml0ZW1zLnR5cGVcIixcbiAgICAgIFwiaXRlbXMudGl0bGVcIixcbiAgICAgIFwiaXRlbXMucGFyZW50X2lkXCIsXG4gICAgICBcIml0ZW1zLnN0YXR1c1wiLFxuICAgICAgXCJpdGVtcy5wcmlvcml0eVwiLFxuICAgICAgXCJpdGVtcy5kdWVfYXRcIixcbiAgICAgIFwiaXRlbXMuZXN0aW1hdGVfbW9kZVwiLFxuICAgICAgXCJpdGVtcy5lc3RpbWF0ZV9taW51dGVzXCIsXG4gICAgICBcIml0ZW1zLm5vdGVzXCIsXG4gICAgICBcIml0ZW1zLnVwZGF0ZWRfYXRcIixcbiAgICAgIFwiaXRlbXMuc2VxdWVuY2VfcmFua1wiLFxuICAgICAgXCJpdGVtcy5jb21wbGV0ZWRfYXRcIixcbiAgICAgIFwiaXRlbXMuYXJjaGl2ZWRfYXRcIixcbiAgICAgIFwiaXRlbXMucHJvamVjdF9pZFwiLFxuICAgICAgXCJpdGVtcy5hc3NpZ25lZV91c2VyX2lkXCIsXG4gICAgICBcIml0ZW1zLmhlYWx0aFwiLFxuICAgIF0pO1xuXG4gIGlmIChzY29wZS5raW5kID09PSBcInByb2plY3RcIikge1xuICAgIHF1ZXJ5ID0gcXVlcnkud2hlcmUoXCJpdGVtcy5wcm9qZWN0X2lkXCIsIFwiPVwiLCBzY29wZS5wcm9qZWN0SWQpO1xuICB9IGVsc2UgaWYgKHNjb3BlLmtpbmQgPT09IFwidXNlclwiKSB7XG4gICAgcXVlcnkgPSBxdWVyeS53aGVyZShcIml0ZW1zLmFzc2lnbmVlX3VzZXJfaWRcIiwgXCI9XCIsIHNjb3BlLnVzZXJJZCk7XG4gIH1cblxuICBpZiAoYXJjaGl2ZU1vZGUgPT09IFwiYWN0aXZlXCIpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5LndoZXJlKFwiaXRlbXMuYXJjaGl2ZWRfYXRcIiwgXCJpc1wiLCBudWxsKTtcbiAgfSBlbHNlIGlmIChhcmNoaXZlTW9kZSA9PT0gXCJhcmNoaXZlZFwiKSB7XG4gICAgcXVlcnkgPSBxdWVyeS53aGVyZShcIml0ZW1zLmFyY2hpdmVkX2F0XCIsIFwiaXMgbm90XCIsIG51bGwpO1xuICB9XG5cbiAgaWYgKCFpbmNsdWRlQ29tcGxldGVkKSB7XG4gICAgcXVlcnkgPSBxdWVyeS53aGVyZShcIml0ZW1zLnN0YXR1c1wiLCBcIm5vdCBpblwiLCBbXCJkb25lXCIsIFwiY2FuY2VsZWRcIl0pO1xuICB9XG5cbiAgY29uc3Qgcm93cyA9IGF3YWl0IHF1ZXJ5XG4gICAgLm9yZGVyQnkoXCJpdGVtcy5zZXF1ZW5jZV9yYW5rXCIsIFwiYXNjXCIpXG4gICAgLm9yZGVyQnkoXCJpdGVtcy5kdWVfYXRcIiwgXCJhc2NcIilcbiAgICAub3JkZXJCeShcIml0ZW1zLnRpdGxlXCIsIFwiYXNjXCIpXG4gICAgLmV4ZWN1dGUoKTtcblxuICBpZiAocm93cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25zdCBpZHMgPSByb3dzLm1hcCgocm93KSA9PiByb3cuaWQpO1xuICBjb25zdCBkZXB0aE1hcCA9IGNvbXB1dGVEZXB0aE1hcChcbiAgICByb3dzLm1hcCgocm93KSA9PiAoeyBpZDogcm93LmlkLCBwYXJlbnRfaWQ6IHJvdy5wYXJlbnRfaWQgfSkpXG4gICk7XG4gIGNvbnN0IGl0ZW1NYXAgPSBuZXcgTWFwKHJvd3MubWFwKChyb3cpID0+IFtyb3cuaWQsIHJvd10pKTtcblxuICBjb25zdCBibG9ja1Jvd3MgPSBhd2FpdCBkYlxuICAgIC5zZWxlY3RGcm9tKFwic2NoZWR1bGVkX2Jsb2Nrc1wiKVxuICAgIC5zZWxlY3QoW1wiaWRcIiwgXCJpdGVtX2lkXCIsIFwic3RhcnRfYXRcIiwgXCJkdXJhdGlvbl9taW51dGVzXCJdKVxuICAgIC53aGVyZShcIml0ZW1faWRcIiwgXCJpblwiLCBpZHMpXG4gICAgLmV4ZWN1dGUoKTtcblxuICBjb25zdCBibG9ja3NNYXAgPSBuZXcgTWFwPHN0cmluZywgU2NoZWR1bGVkQmxvY2tMaXRlW10+KCk7XG4gIGNvbnN0IHNjaGVkdWxlU3VtbWFyeU1hcCA9IG5ldyBNYXA8XG4gICAgc3RyaW5nLFxuICAgIHsgY291bnQ6IG51bWJlcjsgdG90YWw6IG51bWJlcjsgc3RhcnQ6IG51bWJlciB8IG51bGw7IGVuZDogbnVtYmVyIHwgbnVsbCB9XG4gID4oKTtcblxuICBmb3IgKGNvbnN0IHJvdyBvZiBibG9ja1Jvd3MpIHtcbiAgICBjb25zdCBzdGFydEF0ID0gbmV3IERhdGUocm93LnN0YXJ0X2F0KS5nZXRUaW1lKCk7XG4gICAgY29uc3QgZW5kQXQgPSBkZXJpdmVFbmRBdEZyb21EdXJhdGlvbihzdGFydEF0LCByb3cuZHVyYXRpb25fbWludXRlcykgPz8gc3RhcnRBdDtcbiAgICBjb25zdCBibG9jazogU2NoZWR1bGVkQmxvY2tMaXRlID0ge1xuICAgICAgYmxvY2tfaWQ6IHJvdy5pZCxcbiAgICAgIGl0ZW1faWQ6IHJvdy5pdGVtX2lkLFxuICAgICAgc3RhcnRfYXQ6IHN0YXJ0QXQsXG4gICAgICBkdXJhdGlvbl9taW51dGVzOiByb3cuZHVyYXRpb25fbWludXRlcyxcbiAgICAgIGVuZF9hdF9kZXJpdmVkOiBlbmRBdCxcbiAgICB9O1xuICAgIGNvbnN0IGxpc3QgPSBibG9ja3NNYXAuZ2V0KHJvdy5pdGVtX2lkKSA/PyBbXTtcbiAgICBsaXN0LnB1c2goYmxvY2spO1xuICAgIGJsb2Nrc01hcC5zZXQocm93Lml0ZW1faWQsIGxpc3QpO1xuXG4gICAgY29uc3Qgc3VtbWFyeSA9IHNjaGVkdWxlU3VtbWFyeU1hcC5nZXQocm93Lml0ZW1faWQpID8/IHtcbiAgICAgIGNvdW50OiAwLFxuICAgICAgdG90YWw6IDAsXG4gICAgICBzdGFydDogbnVsbCxcbiAgICAgIGVuZDogbnVsbCxcbiAgICB9O1xuICAgIHN1bW1hcnkuY291bnQgKz0gMTtcbiAgICBzdW1tYXJ5LnRvdGFsICs9IHJvdy5kdXJhdGlvbl9taW51dGVzO1xuICAgIHN1bW1hcnkuc3RhcnQgPSBzdW1tYXJ5LnN0YXJ0ID09PSBudWxsID8gc3RhcnRBdCA6IE1hdGgubWluKHN1bW1hcnkuc3RhcnQsIHN0YXJ0QXQpO1xuICAgIHN1bW1hcnkuZW5kID0gc3VtbWFyeS5lbmQgPT09IG51bGwgPyBlbmRBdCA6IE1hdGgubWF4KHN1bW1hcnkuZW5kLCBlbmRBdCk7XG4gICAgc2NoZWR1bGVTdW1tYXJ5TWFwLnNldChyb3cuaXRlbV9pZCwgc3VtbWFyeSk7XG4gIH1cblxuICBjb25zdCBkZXBlbmRlbmN5Um93cyA9IGF3YWl0IGRiXG4gICAgLnNlbGVjdEZyb20oXCJkZXBlbmRlbmNpZXNcIilcbiAgICAuc2VsZWN0KFtcbiAgICAgIFwiaWRcIixcbiAgICAgIFwiaXRlbV9pZFwiLFxuICAgICAgXCJkZXBlbmRzX29uX2lkXCIsXG4gICAgICBcInR5cGVcIixcbiAgICAgIFwibGFnX21pbnV0ZXNcIixcbiAgICBdKVxuICAgIC53aGVyZSgoZWIpID0+XG4gICAgICBlYi5vcihbXG4gICAgICAgIGViKFwiaXRlbV9pZFwiLCBcImluXCIsIGlkcyksXG4gICAgICAgIGViKFwiZGVwZW5kc19vbl9pZFwiLCBcImluXCIsIGlkcyksXG4gICAgICBdKVxuICAgIClcbiAgICAuZXhlY3V0ZSgpO1xuXG4gIGNvbnN0IGRlcGVuZHNPbk1hcCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXT4oKTtcbiAgY29uc3QgZGVwc0luTWFwID0gbmV3IE1hcDxzdHJpbmcsIERlcGVuZGVuY3lFZGdlTGl0ZVtdPigpO1xuICBjb25zdCBkZXBzT3V0TWFwID0gbmV3IE1hcDxzdHJpbmcsIERlcGVuZGVuY3lFZGdlTGl0ZVtdPigpO1xuXG4gIGZvciAoY29uc3Qgcm93IG9mIGRlcGVuZGVuY3lSb3dzKSB7XG4gICAgY29uc3QgZWRnZUlkID0gYCR7cm93Lml0ZW1faWR9LT4ke3Jvdy5kZXBlbmRzX29uX2lkfWA7XG4gICAgY29uc3QgdHlwZSA9IChyb3cudHlwZSA/PyBcIkZTXCIpLnRvVXBwZXJDYXNlKCkgYXMgRGVwZW5kZW5jeVR5cGU7XG4gICAgY29uc3QgbGFnID0gTnVtYmVyLmlzRmluaXRlKHJvdy5sYWdfbWludXRlcykgPyByb3cubGFnX21pbnV0ZXMgOiAwO1xuXG4gICAgY29uc3QgaW5MaXN0ID0gZGVwc0luTWFwLmdldChyb3cuaXRlbV9pZCkgPz8gW107XG4gICAgaW5MaXN0LnB1c2goe1xuICAgICAgZWRnZV9pZDogZWRnZUlkLFxuICAgICAgcHJlZGVjZXNzb3JfaWQ6IHJvdy5kZXBlbmRzX29uX2lkLFxuICAgICAgdHlwZSxcbiAgICAgIGxhZ19taW51dGVzOiBsYWcsXG4gICAgfSk7XG4gICAgZGVwc0luTWFwLnNldChyb3cuaXRlbV9pZCwgaW5MaXN0KTtcblxuICAgIGNvbnN0IG91dExpc3QgPSBkZXBzT3V0TWFwLmdldChyb3cuZGVwZW5kc19vbl9pZCkgPz8gW107XG4gICAgb3V0TGlzdC5wdXNoKHtcbiAgICAgIGVkZ2VfaWQ6IGVkZ2VJZCxcbiAgICAgIHN1Y2Nlc3Nvcl9pZDogcm93Lml0ZW1faWQsXG4gICAgICB0eXBlLFxuICAgICAgbGFnX21pbnV0ZXM6IGxhZyxcbiAgICB9KTtcbiAgICBkZXBzT3V0TWFwLnNldChyb3cuZGVwZW5kc19vbl9pZCwgb3V0TGlzdCk7XG5cbiAgICBjb25zdCBkZXBlbmRzTGlzdCA9IGRlcGVuZHNPbk1hcC5nZXQocm93Lml0ZW1faWQpID8/IFtdO1xuICAgIGRlcGVuZHNMaXN0LnB1c2gocm93LmRlcGVuZHNfb25faWQpO1xuICAgIGRlcGVuZHNPbk1hcC5zZXQocm93Lml0ZW1faWQsIGRlcGVuZHNMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGJsb2NrZXJSb3dzID0gYXdhaXQgZGJcbiAgICAuc2VsZWN0RnJvbShcImJsb2NrZXJzXCIpXG4gICAgLnNlbGVjdChbXCJpdGVtX2lkXCJdKVxuICAgIC53aGVyZShcIml0ZW1faWRcIiwgXCJpblwiLCBpZHMpXG4gICAgLndoZXJlKFwiY2xlYXJlZF9hdFwiLCBcImlzXCIsIG51bGwpXG4gICAgLmV4ZWN1dGUoKTtcblxuICBjb25zdCBibG9ja2VyQ291bnRNYXAgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuICBmb3IgKGNvbnN0IHJvdyBvZiBibG9ja2VyUm93cykge1xuICAgIGJsb2NrZXJDb3VudE1hcC5zZXQocm93Lml0ZW1faWQsIChibG9ja2VyQ291bnRNYXAuZ2V0KHJvdy5pdGVtX2lkKSA/PyAwKSArIDEpO1xuICB9XG5cbiAgY29uc3QgdGltZVJvd3MgPSBhd2FpdCBkYlxuICAgIC5zZWxlY3RGcm9tKFwidGltZV9lbnRyaWVzXCIpXG4gICAgLnNlbGVjdChbXCJpdGVtX2lkXCIsIGRiLmZuLnN1bTxudW1iZXI+KFwiZHVyYXRpb25fbWludXRlc1wiKS5hcyhcInRvdGFsXCIpXSlcbiAgICAud2hlcmUoXCJpdGVtX2lkXCIsIFwiaW5cIiwgaWRzKVxuICAgIC5ncm91cEJ5KFwiaXRlbV9pZFwiKVxuICAgIC5leGVjdXRlKCk7XG5cbiAgY29uc3QgdGltZU1hcCA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gIGZvciAoY29uc3Qgcm93IG9mIHRpbWVSb3dzKSB7XG4gICAgY29uc3QgdG90YWwgPSByb3cudG90YWwgPz8gMDtcbiAgICB0aW1lTWFwLnNldChyb3cuaXRlbV9pZCwgTnVtYmVyKHRvdGFsKSk7XG4gIH1cblxuICBjb25zdCBhc3NpZ25lZUlkcyA9IEFycmF5LmZyb20oXG4gICAgbmV3IFNldChyb3dzLm1hcCgocm93KSA9PiByb3cuYXNzaWduZWVfdXNlcl9pZCkuZmlsdGVyKEJvb2xlYW4pKVxuICApIGFzIHN0cmluZ1tdO1xuICBjb25zdCBhc3NpZ25lZVJvd3MgPSBhc3NpZ25lZUlkcy5sZW5ndGhcbiAgICA/IGF3YWl0IGRiXG4gICAgICAgIC5zZWxlY3RGcm9tKFwidXNlcnNcIilcbiAgICAgICAgLnNlbGVjdChbXCJpZFwiLCBcIm5hbWVcIl0pXG4gICAgICAgIC53aGVyZShcImlkXCIsIFwiaW5cIiwgYXNzaWduZWVJZHMpXG4gICAgICAgIC5leGVjdXRlKClcbiAgICA6IFtdO1xuICBjb25zdCBhc3NpZ25lZU1hcCA9IG5ldyBNYXAoYXNzaWduZWVSb3dzLm1hcCgocm93KSA9PiBbcm93LmlkLCByb3cubmFtZV0pKTtcblxuICBjb25zdCB1bm1ldERlcENvdW50TWFwID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgZm9yIChjb25zdCByb3cgb2YgZGVwZW5kZW5jeVJvd3MpIHtcbiAgICBjb25zdCBwcmVkZWNlc3NvciA9IGl0ZW1NYXAuZ2V0KHJvdy5kZXBlbmRzX29uX2lkKTtcbiAgICBpZiAoIXByZWRlY2Vzc29yIHx8IHByZWRlY2Vzc29yLnN0YXR1cyAhPT0gXCJkb25lXCIpIHtcbiAgICAgIHVubWV0RGVwQ291bnRNYXAuc2V0KFxuICAgICAgICByb3cuaXRlbV9pZCxcbiAgICAgICAgKHVubWV0RGVwQ291bnRNYXAuZ2V0KHJvdy5pdGVtX2lkKSA/PyAwKSArIDFcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgYmxvY2tlZE1hcCA9IG5ldyBNYXA8c3RyaW5nLCB7IGlzX2Jsb2NrZWQ6IGJvb2xlYW4gfT4oKTtcbiAgY29uc3QgZHVlTWV0cmljc01hcCA9IG5ldyBNYXA8c3RyaW5nLCB7IGlzX292ZXJkdWU6IGJvb2xlYW4gfT4oKTtcbiAgZm9yIChjb25zdCByb3cgb2Ygcm93cykge1xuICAgIGNvbnN0IGJsb2NrZXJDb3VudCA9IGJsb2NrZXJDb3VudE1hcC5nZXQocm93LmlkKSA/PyAwO1xuICAgIGNvbnN0IHVubWV0RGVwcyA9IHVubWV0RGVwQ291bnRNYXAuZ2V0KHJvdy5pZCkgPz8gMDtcbiAgICBjb25zdCBibG9ja2VkID1cbiAgICAgIHJvdy5zdGF0dXMgPT09IFwiYmxvY2tlZFwiIHx8IGJsb2NrZXJDb3VudCA+IDAgfHwgdW5tZXREZXBzID4gMDtcbiAgICBibG9ja2VkTWFwLnNldChyb3cuaWQsIHsgaXNfYmxvY2tlZDogYmxvY2tlZCB9KTtcbiAgICBkdWVNZXRyaWNzTWFwLnNldChcbiAgICAgIHJvdy5pZCxcbiAgICAgIGNvbXB1dGVEdWVNZXRyaWNzKHRvTXMocm93LmR1ZV9hdCksIG5vdywgcm93LnN0YXR1cylcbiAgICApO1xuICB9XG5cbiAgY29uc3Qgcm9sbHVwTWFwID0gY29tcHV0ZVJvbGx1cFRvdGFscyhcbiAgICByb3dzLm1hcCgocm93KSA9PiAoe1xuICAgICAgaWQ6IHJvdy5pZCxcbiAgICAgIHBhcmVudF9pZDogcm93LnBhcmVudF9pZCxcbiAgICAgIGVzdGltYXRlX21vZGU6IHJvdy5lc3RpbWF0ZV9tb2RlLFxuICAgICAgZXN0aW1hdGVfbWludXRlczogcm93LmVzdGltYXRlX21pbnV0ZXMsXG4gICAgfSkpLFxuICAgIG5ldyBNYXAoXG4gICAgICBBcnJheS5mcm9tKHNjaGVkdWxlU3VtbWFyeU1hcC5lbnRyaWVzKCkpLm1hcCgoW2lkLCBzdW1tYXJ5XSkgPT4gW1xuICAgICAgICBpZCxcbiAgICAgICAgeyBzdGFydDogc3VtbWFyeS5zdGFydCwgZW5kOiBzdW1tYXJ5LmVuZCB9LFxuICAgICAgXSlcbiAgICApLFxuICAgIGJsb2NrZWRNYXAsXG4gICAgZHVlTWV0cmljc01hcCxcbiAgICB0aW1lTWFwXG4gICk7XG5cbiAgY29uc3QgcmVzdWx0OiBMaXN0Vmlld0l0ZW1bXSA9IHJvd3MubWFwKChyb3cpID0+IHtcbiAgICBjb25zdCBzY2hlZHVsZVN1bW1hcnkgPSBzY2hlZHVsZVN1bW1hcnlNYXAuZ2V0KHJvdy5pZCkgPz8ge1xuICAgICAgY291bnQ6IDAsXG4gICAgICB0b3RhbDogMCxcbiAgICAgIHN0YXJ0OiBudWxsLFxuICAgICAgZW5kOiBudWxsLFxuICAgIH07XG4gICAgY29uc3QgZGVwc0luID0gZGVwc0luTWFwLmdldChyb3cuaWQpID8/IFtdO1xuICAgIGNvbnN0IGRlcHNPdXQgPSBkZXBzT3V0TWFwLmdldChyb3cuaWQpID8/IFtdO1xuICAgIGNvbnN0IHNjaGVkdWxlU3RhcnQgPSBzY2hlZHVsZVN1bW1hcnkuc3RhcnQ7XG4gICAgY29uc3Qgc2NoZWR1bGVFbmQgPSBzY2hlZHVsZVN1bW1hcnkuZW5kO1xuICAgIGNvbnN0IHNsYWNrTWludXRlcyA9IGNvbXB1dGVTbGFja01pbnV0ZXModG9Ncyhyb3cuZHVlX2F0KSwgc2NoZWR1bGVFbmQpO1xuICAgIGNvbnN0IHJvbGx1cFRvdGFscyA9IHJvbGx1cE1hcC5nZXQocm93LmlkKTtcbiAgICBjb25zdCBibG9ja2VyQ291bnQgPSBibG9ja2VyQ291bnRNYXAuZ2V0KHJvdy5pZCkgPz8gMDtcbiAgICBjb25zdCB1bm1ldERlcHMgPSB1bm1ldERlcENvdW50TWFwLmdldChyb3cuaWQpID8/IDA7XG4gICAgY29uc3QgYmxvY2tlZEJ5ID0gZGVwc0luLm1hcCgoZGVwKSA9PiB7XG4gICAgICBjb25zdCBtZXRhID0gaXRlbU1hcC5nZXQoZGVwLnByZWRlY2Vzc29yX2lkID8/IFwiXCIpO1xuICAgICAgY29uc3QgcHJlZGVjZXNzb3JTY2hlZHVsZSA9IHNjaGVkdWxlU3VtbWFyeU1hcC5nZXQoZGVwLnByZWRlY2Vzc29yX2lkID8/IFwiXCIpID8/IHtcbiAgICAgICAgc3RhcnQ6IG51bGwsXG4gICAgICAgIGVuZDogbnVsbCxcbiAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpdGVtX2lkOiBkZXAucHJlZGVjZXNzb3JfaWQgPz8gXCJcIixcbiAgICAgICAgdGl0bGU6IG1ldGE/LnRpdGxlID8/IGRlcC5wcmVkZWNlc3Nvcl9pZCA/PyBcIlwiLFxuICAgICAgICB0eXBlOiBkZXAudHlwZSxcbiAgICAgICAgbGFnX21pbnV0ZXM6IGRlcC5sYWdfbWludXRlcyxcbiAgICAgICAgc3RhdHVzOiBldmFsdWF0ZURlcGVuZGVuY3lTdGF0dXMoe1xuICAgICAgICAgIHByZWRlY2Vzc29yU3RhcnQ6IHByZWRlY2Vzc29yU2NoZWR1bGUuc3RhcnQsXG4gICAgICAgICAgcHJlZGVjZXNzb3JFbmQ6IHByZWRlY2Vzc29yU2NoZWR1bGUuZW5kLFxuICAgICAgICAgIHN1Y2Nlc3NvclN0YXJ0OiBzY2hlZHVsZVN0YXJ0LFxuICAgICAgICAgIHN1Y2Nlc3NvckVuZDogc2NoZWR1bGVFbmQsXG4gICAgICAgICAgdHlwZTogZGVwLnR5cGUsXG4gICAgICAgICAgbGFnTWludXRlczogZGVwLmxhZ19taW51dGVzLFxuICAgICAgICB9KSxcbiAgICAgIH07XG4gICAgfSk7XG4gICAgY29uc3QgYmxvY2tpbmcgPSBkZXBzT3V0Lm1hcCgoZGVwKSA9PiB7XG4gICAgICBjb25zdCBtZXRhID0gaXRlbU1hcC5nZXQoZGVwLnN1Y2Nlc3Nvcl9pZCA/PyBcIlwiKTtcbiAgICAgIGNvbnN0IHN1Y2Nlc3NvclNjaGVkdWxlID0gc2NoZWR1bGVTdW1tYXJ5TWFwLmdldChkZXAuc3VjY2Vzc29yX2lkID8/IFwiXCIpID8/IHtcbiAgICAgICAgc3RhcnQ6IG51bGwsXG4gICAgICAgIGVuZDogbnVsbCxcbiAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpdGVtX2lkOiBkZXAuc3VjY2Vzc29yX2lkID8/IFwiXCIsXG4gICAgICAgIHRpdGxlOiBtZXRhPy50aXRsZSA/PyBkZXAuc3VjY2Vzc29yX2lkID8/IFwiXCIsXG4gICAgICAgIHR5cGU6IGRlcC50eXBlLFxuICAgICAgICBsYWdfbWludXRlczogZGVwLmxhZ19taW51dGVzLFxuICAgICAgICBzdGF0dXM6IGV2YWx1YXRlRGVwZW5kZW5jeVN0YXR1cyh7XG4gICAgICAgICAgcHJlZGVjZXNzb3JTdGFydDogc2NoZWR1bGVTdGFydCxcbiAgICAgICAgICBwcmVkZWNlc3NvckVuZDogc2NoZWR1bGVFbmQsXG4gICAgICAgICAgc3VjY2Vzc29yU3RhcnQ6IHN1Y2Nlc3NvclNjaGVkdWxlLnN0YXJ0LFxuICAgICAgICAgIHN1Y2Nlc3NvckVuZDogc3VjY2Vzc29yU2NoZWR1bGUuZW5kLFxuICAgICAgICAgIHR5cGU6IGRlcC50eXBlLFxuICAgICAgICAgIGxhZ01pbnV0ZXM6IGRlcC5sYWdfbWludXRlcyxcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgY29uc3QgYXNzaWduZWVJZCA9IHJvdy5hc3NpZ25lZV91c2VyX2lkO1xuICAgIGNvbnN0IGFzc2lnbmVlTmFtZSA9IGFzc2lnbmVlSWQgPyBhc3NpZ25lZU1hcC5nZXQoYXNzaWduZWVJZCkgPz8gbnVsbCA6IG51bGw7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHJvdy5pZCxcbiAgICAgIHR5cGU6IHJvdy50eXBlIGFzIExpc3RWaWV3SXRlbVtcInR5cGVcIl0sXG4gICAgICBpdGVtX3R5cGU6IHJvdy50eXBlIGFzIExpc3RWaWV3SXRlbVtcInR5cGVcIl0sXG4gICAgICB0aXRsZTogcm93LnRpdGxlLFxuICAgICAgcGFyZW50X2lkOiByb3cucGFyZW50X2lkLFxuICAgICAgZGVwdGg6IGRlcHRoTWFwLmdldChyb3cuaWQpID8/IDAsXG4gICAgICBwcm9qZWN0X2lkOiByb3cucHJvamVjdF9pZCxcbiAgICAgIHNvcnRfb3JkZXI6IHJvdy5zZXF1ZW5jZV9yYW5rID8/IDAsXG4gICAgICBkdWVfYXQ6IHRvTXMocm93LmR1ZV9hdCksXG4gICAgICBhcmNoaXZlZF9hdDogdG9Ncyhyb3cuYXJjaGl2ZWRfYXQpLFxuICAgICAgZXN0aW1hdGVfbW9kZTogcm93LmVzdGltYXRlX21vZGUsXG4gICAgICBzdGF0dXM6IHJvdy5zdGF0dXMsXG4gICAgICBwcmlvcml0eTogcm93LnByaW9yaXR5LFxuICAgICAgZXN0aW1hdGVfbWludXRlczogcm93LmVzdGltYXRlX21pbnV0ZXMsXG4gICAgICByb2xsdXBfZXN0aW1hdGVfbWludXRlczogcm9sbHVwVG90YWxzPy50b3RhbEVzdGltYXRlID8/IHJvdy5lc3RpbWF0ZV9taW51dGVzLFxuICAgICAgcm9sbHVwX2FjdHVhbF9taW51dGVzOiByb2xsdXBUb3RhbHM/LnRvdGFsQWN0dWFsID8/ICh0aW1lTWFwLmdldChyb3cuaWQpID8/IDApLFxuICAgICAgcm9sbHVwX3JlbWFpbmluZ19taW51dGVzOiByb2xsdXBUb3RhbHNcbiAgICAgICAgPyBNYXRoLm1heCgwLCByb2xsdXBUb3RhbHMudG90YWxFc3RpbWF0ZSAtIHJvbGx1cFRvdGFscy50b3RhbEFjdHVhbClcbiAgICAgICAgOiBNYXRoLm1heCgwLCByb3cuZXN0aW1hdGVfbWludXRlcyAtICh0aW1lTWFwLmdldChyb3cuaWQpID8/IDApKSxcbiAgICAgIHJvbGx1cF9zdGFydF9hdDogcm9sbHVwVG90YWxzPy5yb2xsdXBTdGFydEF0ID8/IG51bGwsXG4gICAgICByb2xsdXBfZW5kX2F0OiByb2xsdXBUb3RhbHM/LnJvbGx1cEVuZEF0ID8/IG51bGwsXG4gICAgICByb2xsdXBfYmxvY2tlZF9jb3VudDogcm9sbHVwVG90YWxzPy5yb2xsdXBCbG9ja2VkQ291bnQgPz8gMCxcbiAgICAgIHJvbGx1cF9vdmVyZHVlX2NvdW50OiByb2xsdXBUb3RhbHM/LnJvbGx1cE92ZXJkdWVDb3VudCA/PyAwLFxuICAgICAgc2NoZWR1bGU6IHtcbiAgICAgICAgaGFzX2Jsb2Nrczogc2NoZWR1bGVTdW1tYXJ5LmNvdW50ID4gMCxcbiAgICAgICAgc2NoZWR1bGVkX21pbnV0ZXNfdG90YWw6IHNjaGVkdWxlU3VtbWFyeS50b3RhbCxcbiAgICAgICAgc2NoZWR1bGVfc3RhcnRfYXQ6IHNjaGVkdWxlU3VtbWFyeS5zdGFydCxcbiAgICAgICAgc2NoZWR1bGVfZW5kX2F0OiBzY2hlZHVsZVN1bW1hcnkuZW5kLFxuICAgICAgfSxcbiAgICAgIGRlcGVuZHNfb246IGRlcGVuZHNPbk1hcC5nZXQocm93LmlkKSA/PyBbXSxcbiAgICAgIG5vdGVzOiByb3cubm90ZXMsXG4gICAgICBibG9ja2VkOiB7XG4gICAgICAgIGlzX2Jsb2NrZWQ6IHJvdy5zdGF0dXMgPT09IFwiYmxvY2tlZFwiIHx8IGJsb2NrZXJDb3VudCA+IDAgfHwgdW5tZXREZXBzID4gMCxcbiAgICAgICAgYmxvY2tlZF9ieV9kZXBzOiB1bm1ldERlcHMgPiAwLFxuICAgICAgICBibG9ja2VkX2J5X2Jsb2NrZXJzOiBibG9ja2VyQ291bnQgPiAwLFxuICAgICAgICBhY3RpdmVfYmxvY2tlcl9jb3VudDogYmxvY2tlckNvdW50LFxuICAgICAgICB1bm1ldF9kZXBlbmRlbmN5X2NvdW50OiB1bm1ldERlcHMsXG4gICAgICB9LFxuICAgICAgYXNzaWduZWVzOiBhc3NpZ25lZUlkXG4gICAgICAgID8gW3sgaWQ6IGFzc2lnbmVlSWQsIG5hbWU6IGFzc2lnbmVlTmFtZSB9XVxuICAgICAgICA6IFtdLFxuICAgICAgYXNzaWduZWVfaWQ6IGFzc2lnbmVlSWQsXG4gICAgICBhc3NpZ25lZV9uYW1lOiBhc3NpZ25lZU5hbWUsXG4gICAgICB0YWdzOiBbXSxcbiAgICAgIGhlYWx0aDogcm93LmhlYWx0aCA/PyBcInVua25vd25cIixcbiAgICAgIGNvbXBsZXRlZF9vbjogdG9Ncyhyb3cuY29tcGxldGVkX2F0KSxcbiAgICAgIGFjdHVhbF9taW51dGVzOiB0aW1lTWFwLmdldChyb3cuaWQpID8/IG51bGwsXG4gICAgICBzY2hlZHVsZWRfYmxvY2tzOiBibG9ja3NNYXAuZ2V0KHJvdy5pZCkgPz8gW10sXG4gICAgICBkZXBlbmRlbmNpZXNfb3V0OiBkZXBzT3V0LFxuICAgICAgZGVwZW5kZW5jaWVzX2luOiBkZXBzSW4sXG4gICAgICBibG9ja2VkX2J5OiBibG9ja2VkQnksXG4gICAgICBibG9ja2luZyxcbiAgICAgIHNsYWNrX21pbnV0ZXM6IHNsYWNrTWludXRlcyxcbiAgICB9O1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcbiJdLCJuYW1lcyI6WyJkYiIsImNvbXB1dGVTbGFja01pbnV0ZXMiLCJkZXJpdmVFbmRBdEZyb21EdXJhdGlvbiIsImV2YWx1YXRlRGVwZW5kZW5jeVN0YXR1cyIsImNvbXB1dGVSb2xsdXBUb3RhbHMiLCJ0b01zIiwidmFsdWUiLCJEYXRlIiwiZ2V0VGltZSIsInJlc29sdmVBcmNoaXZlRmlsdGVyIiwiaW5jbHVkZUFyY2hpdmVkIiwiYXJjaGl2ZUZpbHRlciIsImNvbXB1dGVEZXB0aE1hcCIsIml0ZW1zIiwibWFwIiwiTWFwIiwiaXRlbSIsInNldCIsImlkIiwicGFyZW50X2lkIiwiZGVwdGhNYXAiLCJjb21wdXRlIiwiaGFzIiwiZ2V0IiwiZW50cnkiLCJkZXB0aCIsImtleXMiLCJjb21wdXRlRHVlTWV0cmljcyIsImR1ZUF0Iiwibm93Iiwic3RhdHVzIiwiaXNfb3ZlcmR1ZSIsImRpZmZNcyIsImlzT3ZlcmR1ZSIsImdldExpc3RWaWV3Iiwic2NvcGUiLCJpbmNsdWRlQ29tcGxldGVkIiwiYXJjaGl2ZU1vZGUiLCJxdWVyeSIsInNlbGVjdEZyb20iLCJzZWxlY3QiLCJraW5kIiwid2hlcmUiLCJwcm9qZWN0SWQiLCJ1c2VySWQiLCJyb3dzIiwib3JkZXJCeSIsImV4ZWN1dGUiLCJsZW5ndGgiLCJpZHMiLCJyb3ciLCJpdGVtTWFwIiwiYmxvY2tSb3dzIiwiYmxvY2tzTWFwIiwic2NoZWR1bGVTdW1tYXJ5TWFwIiwic3RhcnRBdCIsInN0YXJ0X2F0IiwiZW5kQXQiLCJkdXJhdGlvbl9taW51dGVzIiwiYmxvY2siLCJibG9ja19pZCIsIml0ZW1faWQiLCJlbmRfYXRfZGVyaXZlZCIsImxpc3QiLCJwdXNoIiwic3VtbWFyeSIsImNvdW50IiwidG90YWwiLCJzdGFydCIsImVuZCIsIk1hdGgiLCJtaW4iLCJtYXgiLCJkZXBlbmRlbmN5Um93cyIsImViIiwib3IiLCJkZXBlbmRzT25NYXAiLCJkZXBzSW5NYXAiLCJkZXBzT3V0TWFwIiwiZWRnZUlkIiwiZGVwZW5kc19vbl9pZCIsInR5cGUiLCJ0b1VwcGVyQ2FzZSIsImxhZyIsIk51bWJlciIsImlzRmluaXRlIiwibGFnX21pbnV0ZXMiLCJpbkxpc3QiLCJlZGdlX2lkIiwicHJlZGVjZXNzb3JfaWQiLCJvdXRMaXN0Iiwic3VjY2Vzc29yX2lkIiwiZGVwZW5kc0xpc3QiLCJibG9ja2VyUm93cyIsImJsb2NrZXJDb3VudE1hcCIsInRpbWVSb3dzIiwiZm4iLCJzdW0iLCJhcyIsImdyb3VwQnkiLCJ0aW1lTWFwIiwiYXNzaWduZWVJZHMiLCJBcnJheSIsImZyb20iLCJTZXQiLCJhc3NpZ25lZV91c2VyX2lkIiwiZmlsdGVyIiwiQm9vbGVhbiIsImFzc2lnbmVlUm93cyIsImFzc2lnbmVlTWFwIiwibmFtZSIsInVubWV0RGVwQ291bnRNYXAiLCJwcmVkZWNlc3NvciIsImJsb2NrZWRNYXAiLCJkdWVNZXRyaWNzTWFwIiwiYmxvY2tlckNvdW50IiwidW5tZXREZXBzIiwiYmxvY2tlZCIsImlzX2Jsb2NrZWQiLCJkdWVfYXQiLCJyb2xsdXBNYXAiLCJlc3RpbWF0ZV9tb2RlIiwiZXN0aW1hdGVfbWludXRlcyIsImVudHJpZXMiLCJyZXN1bHQiLCJzY2hlZHVsZVN1bW1hcnkiLCJkZXBzSW4iLCJkZXBzT3V0Iiwic2NoZWR1bGVTdGFydCIsInNjaGVkdWxlRW5kIiwic2xhY2tNaW51dGVzIiwicm9sbHVwVG90YWxzIiwiYmxvY2tlZEJ5IiwiZGVwIiwibWV0YSIsInByZWRlY2Vzc29yU2NoZWR1bGUiLCJ0aXRsZSIsInByZWRlY2Vzc29yU3RhcnQiLCJwcmVkZWNlc3NvckVuZCIsInN1Y2Nlc3NvclN0YXJ0Iiwic3VjY2Vzc29yRW5kIiwibGFnTWludXRlcyIsImJsb2NraW5nIiwic3VjY2Vzc29yU2NoZWR1bGUiLCJhc3NpZ25lZUlkIiwiYXNzaWduZWVOYW1lIiwiaXRlbV90eXBlIiwicHJvamVjdF9pZCIsInNvcnRfb3JkZXIiLCJzZXF1ZW5jZV9yYW5rIiwiYXJjaGl2ZWRfYXQiLCJwcmlvcml0eSIsInJvbGx1cF9lc3RpbWF0ZV9taW51dGVzIiwidG90YWxFc3RpbWF0ZSIsInJvbGx1cF9hY3R1YWxfbWludXRlcyIsInRvdGFsQWN0dWFsIiwicm9sbHVwX3JlbWFpbmluZ19taW51dGVzIiwicm9sbHVwX3N0YXJ0X2F0Iiwicm9sbHVwU3RhcnRBdCIsInJvbGx1cF9lbmRfYXQiLCJyb2xsdXBFbmRBdCIsInJvbGx1cF9ibG9ja2VkX2NvdW50Iiwicm9sbHVwQmxvY2tlZENvdW50Iiwicm9sbHVwX292ZXJkdWVfY291bnQiLCJyb2xsdXBPdmVyZHVlQ291bnQiLCJzY2hlZHVsZSIsImhhc19ibG9ja3MiLCJzY2hlZHVsZWRfbWludXRlc190b3RhbCIsInNjaGVkdWxlX3N0YXJ0X2F0Iiwic2NoZWR1bGVfZW5kX2F0IiwiZGVwZW5kc19vbiIsIm5vdGVzIiwiYmxvY2tlZF9ieV9kZXBzIiwiYmxvY2tlZF9ieV9ibG9ja2VycyIsImFjdGl2ZV9ibG9ja2VyX2NvdW50IiwidW5tZXRfZGVwZW5kZW5jeV9jb3VudCIsImFzc2lnbmVlcyIsImFzc2lnbmVlX2lkIiwiYXNzaWduZWVfbmFtZSIsInRhZ3MiLCJoZWFsdGgiLCJjb21wbGV0ZWRfb24iLCJjb21wbGV0ZWRfYXQiLCJhY3R1YWxfbWludXRlcyIsInNjaGVkdWxlZF9ibG9ja3MiLCJkZXBlbmRlbmNpZXNfb3V0IiwiZGVwZW5kZW5jaWVzX2luIiwiYmxvY2tlZF9ieSIsInNsYWNrX21pbnV0ZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/views/listView.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.35_@babel+core@7.28.5_react-dom@18.3.1_react@18.3.1__react@18.3.1","vendor-chunks/kysely@0.27.6","vendor-chunks/jose@4.15.9","vendor-chunks/next-auth@4.24.13_next@14.2.35_@babel+core@7.28.5_react-dom@18.3.1_react@18.3.1__react@_5516ee114dfc8862c069433b1ec75012","vendor-chunks/openid-client@5.7.1","vendor-chunks/@babel+runtime@7.28.4","vendor-chunks/uuid@8.3.2","vendor-chunks/oauth@0.9.15","vendor-chunks/@panva+hkdf@1.2.1","vendor-chunks/yallist@4.0.0","vendor-chunks/preact-render-to-string@5.2.6_preact@10.28.2","vendor-chunks/preact@10.28.2","vendor-chunks/oidc-token-hash@5.2.0","vendor-chunks/object-hash@2.2.0","vendor-chunks/lru-cache@6.0.0","vendor-chunks/cookie@0.7.2"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@14.2.35_@babel+core@7.28.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=%2FUsers%2Ftajhowe%2FDropbox%2FPersonal%2FCoding%20Projects%2F2025-12-22_makeWhen%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftajhowe%2FDropbox%2FPersonal%2FCoding%20Projects%2F2025-12-22_makeWhen&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();